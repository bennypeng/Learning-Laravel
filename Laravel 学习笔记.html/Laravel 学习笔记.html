<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 5.5.1 (402628)"/><meta name="keywords" content="PHP"/><meta name="altitude" content="57.89960098266602"/><meta name="author" content="leolovenet"/><meta name="created" content="2014-05-20 06:20:21 +0000"/><meta name="latitude" content="39.92551718857855"/><meta name="longitude" content="116.4349279302471"/><meta name="updated" content="2014-05-28 08:21:01 +0000"/><title>Laravel 学习笔记</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div><b>翻译整理:</b>  <b><a href="mailto:leolovenet@gmail.com">leolovenet@gmail.com</a></b><br/></div>
<div><b>Blog:</b>       <a href="http://leolovenet.com">http://leolovenet.com</a></div>
<div><font face="Hiragino Sans GB"><b>官方文档:</b>  <a href="http://laravel.com/docs/quick">http://laravel.com/docs/quick</a></font></div>
<div><br/></div>
<div><font face="Hiragino Sans GB"><b><font color="#2B3D51">前言: </font></b><font color="#95A5A5">整理翻译这个文档,实属一个意外,一开始要做一个小项目,就看了一天的文档, 但是, 到后来发现那个小项目实在是太小了, 使用这么大的框架有点大材小用,有加上自己对框架也不太熟悉, 最终是没有使用 Laravel 的. 不过这激起了我学习这个框架的兴趣. 最终产生了本文. 本文所有的翻译整理全是为了自我学习, 肯定有翻译不准确, 甚至错白字存在, 实在抱歉.  以后慢慢修改吧.</font></font></div>
<div><br/></div>
<div><font color="#95A5A5">本文没有讲解安装步骤,假设你已经安装成功 Laravel 了. 截至目前, Laravel 的<b>最新稳定版本为 4.1</b></font></div>
<div><font color="#95A5A5" face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB" color="#00BE9C" style="font-size: 18px;"><b>Artisan</b></font><font color="#95A5A5" face="Hiragino Sans GB"><br/></font></div>
<div><font color="#EA4B35" face="Hiragino Sans GB">Laravel</font><font face="Hiragino Sans GB" style="color: rgb(43, 61, 81);"> 有一个命令行接口,叫做 </font><font color="#EA4B35"><font face="Hiragino Sans GB">Artisan </font></font><span style="color: rgb(43, 61, 81); font-size: 14px;">. 它提供了一些在开放网站过程中非常有用的命令.是通过 </span><span style="font-size: 14px;"><font color="#9C56B8">Symfony Console component</font></span><span style="color: rgb(43, 61, 81); font-size: 14px;"> 来驱动的. 可以在项目 Root 目录下运行.</span></div>
</div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b style="color: rgb(34, 127, 188);">用法:</b><font face="Hiragino Sans GB"><br/></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div><font face="Hiragino Sans GB" color="#2C97DF">(1)</font><font face="Hiragino Sans GB" style="color: rgb(43, 61, 81);"> 所有可用的命令:                  </font><span style="font-size: 14px;"><font face="Courier"><font color="#EA4B35">php artisan </font><font color="#9C56B8">list</font></font></span></div>
<div><font color="#2C97DF">(2) </font>访问每个命令的帮助信息:      <font face="Courier" color="#EA4B35">php artisan </font><font face="Courier" color="#9C56B8">help migrate</font></div>
<div><font face="Hiragino Sans GB" color="#2C97DF">(3) </font><font color="#2B3D51" face="Hiragino Sans GB">在特定配置环境下运行:         </font><font face="Courier" color="#EA4B35">php artisan</font><font color="#2B3D51" face="Courier"> </font><span style="font-family: Courier; font-size: 14px;"><font color="#9C56B8">migrate --env=local</font></span></div>
<div><font face="Hiragino Sans GB" color="#2C97DF">(4) </font><font face="Hiragino Sans GB" color="#2B3D51">现实当前 </font><font face="Hiragino Sans GB" color="#EA4B35">Laravel </font><font face="Hiragino Sans GB" color="#2B3D51">版本:         </font><span style="color: rgb(234, 75, 53); font-family: Courier; font-size: 14px;">php artisan </span><span style="font-family: Courier; font-size: 14px;"><font color="#9C56B8">--version</font></span></div>
<div><span style="font-family: Courier; font-size: 14px;"><font color="#9C56B8"><br/></font></span></div>
</blockquote>
</blockquote>
<b style="font-size: 18px;"><font color="#00BE9C">Blade</font></b></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51">Blade(刀锋), 是 Laravel 的模板系统(</font><span style="color: rgb(44, 61, 81);"> templating system</span><span style="color: rgb(43, 61, 81);">). Blade 运行很快, 因为它使用简单的正则表达式把你的模板编译成为纯 PHP, 同时 Blade 又提供了像</span><font color="#9C56B8">模板继承</font><span style="color: rgb(43, 61, 81);">, 以及 php 的</span> <font color="#EA4B35">if</font> <span style="color: rgb(43, 61, 81);">和</span> <font color="#EA4B35">for</font><span style="color: rgb(43, 61, 81);"> 类似的语法</span><font color="#9C56B8">结构控制语句</font><span style="color: rgb(43, 61, 81);">. 更多的信息请查看 </span><a href="http://laravel.com/docs/templates">Blade 的详细文档</a></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51"><br/></font></blockquote>
<span style="font-size: 18px;"><b><font color="#00BE9C">Migration</font></b></span><font color="#2B3D51"><br/></font>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51">当我们想</font><font color="#2C97DF">创建一个数据库表格</font><font color="#2B3D51">来存放我们的数据的时候, 可以是用</font><font color="#C33825">Laravel</font><font color="#2B3D51">的</font> <font color="#9C56B8">migration (迁移)系统</font><font color="#2B3D51">.  </font><font color="#C33825">Laravel</font> <font color="#2B3D51">的</font> <font color="#9C56B8">migration</font> <font color="#2B3D51">系统可以</font><font color="#2C97DF">直观的定义对数据库的修改</font><font color="#2B3D51">, 并且很容易跟团队的其他人员共享.</font></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51">使用</font> <font color="#9C56B8">migration</font> <font color="#2B3D51">的第一步,需要我们先配置对数据库的连接信息. 框架把所有对数据库的配置信息都存放在了</font> <font color="#EA4B35">app/config/database.php</font> <font color="#2B3D51">文件中. 默认行况下</font> <font color="#C33825">Laravel</font> <font color="#2B3D51">是使用</font> <font color="#E87E04">MySQL</font> <font color="#2B3D51">,你需要在配置文件中指定好对数据库的连接信息. 如果你更愿意是用</font> <font color="#E87E04">sqlite</font> <font color="#2B3D51">替代</font> <font color="#E87E04">MySQL</font> <font color="#2B3D51">的话, 仅需要更改配置文件的 </font><font color="#EA4B35" face="Courier">driver</font> <span style="color: rgb(44, 61, 81); font-size: 14px;">选项为  </span><font face="Courier" color="#EA4B35">sqlite</font><font color="#2B3D51"> ,随后框架将使用包含在</font> <font face="Courier" color="#EA4B35">app/database</font> <font color="#2B3D51">目录下的 </font><span style="font-size: 14px;"><font color="#D55400">SQLite</font></span> <span style="color: rgb(44, 61, 81); font-size: 14px;">数据库作为存储媒介.</span></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51"><br/></font></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51">第二步,创建</font> <font color="#9C56B8">migration</font> <font color="#2B3D51">.我们将要使用上面介绍的</font> <font color="#C33825">Artisan</font> <font color="#2B3D51">命令行. 进入终端, 在项目的根目录下运行下面的命令:</font></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><font color="#C33825">php </font><font color="#EA4B35">artisan </font><font color="#2C97DF">migrate:make</font><span style="color: rgb(233, 228, 229);" /><font color="#00BE9C">create_users_table</font></code>
</pre></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51">这将会在</font> <font color="#EA4B35" face="Courier">app/database/migrations</font> <font color="#2B3D51">文件夹内生成</font> <font color="#9C56B8">migration</font> <font color="#2B3D51">文件, 文件中有一个由两个方法</font> <font color="#EA4B35" face="Courier">up</font> <font color="#2B3D51">和</font> <font face="Courier" color="#EA4B35">down</font> <font color="#2B3D51">组成的一个类(类名为 </font><font face="Courier" color="#00BE9C">CreateUsersTable</font><span style="color: rgb(43, 61, 81);">). 在</span> <font color="#EA4B35" face="Courier">up</font> <span style="color: rgb(43, 61, 81);">方法中,应该包含对数据库表格渴望的改变, 在</span> <font color="#EA4B35" face="Courier">down</font> <span style="color: rgb(43, 61, 81);">方法中应该做出相反的动作.</span></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51"><br/></font></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51">让我们定义一个像下面的这样的 migration:</font></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">public</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(233, 228, 229);"> up</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(239, 124, 97);">Schema</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">create</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'users'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$table</span><span style="color: rgb(255, 255, 255);">)   </span><font color="#7E8C8D"> //创建一个 users 表格.</font><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);">
        $table</span><span style="color: rgb(255, 255, 255);">-&gt;</span><span style="color: rgb(233, 228, 229);">increments</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'id'</span><span style="color: rgb(255, 255, 255);">);               </span><font color="#7E8C8D">//在 users 表中添加一个子增长的 id 列</font><span style="color: rgb(233, 228, 229);">
        $table</span><span style="color: rgb(255, 255, 255);">-&gt;</span><span style="color: rgb(75, 177, 177);">string</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'email'</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><span style="color: rgb(233, 228, 229);">unique</span><span style="color: rgb(255, 255, 255);">();      </span><font color="#7E8C8D">//在 users 表中添加一个只能是唯一的 email 字符列</font><span style="color: rgb(233, 228, 229);">
        $table</span><span style="color: rgb(255, 255, 255);">-&gt;</span><span style="color: rgb(75, 177, 177);">string</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'name'</span><span style="color: rgb(255, 255, 255);">);                 </span><span style="color: rgb(126, 140, 141); background-color: transparent; line-height: 1.9em;">//在 users 表中添加一个 name 字符列</span><span style="color: rgb(233, 228, 229);">
        $table</span><span style="color: rgb(255, 255, 255);">-&gt;</span><span style="color: rgb(233, 228, 229);">timestamps</span><span style="color: rgb(255, 255, 255);">();                   </span><font color="#7E8C8D">//在 users 表中添加一个时间戳的列</font><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">});</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(75, 177, 177);">public</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(233, 228, 229);"> down</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(239, 124, 97);">Schema</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">drop</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'users'</span><span style="color: rgb(255, 255, 255);">);                     </span><font color="#7E8C8D">//删除这个表格</font><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51"><br/></font></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51">一切准备完毕,接下来,我们就可以在终端中使用</font> <font color="#EA4B35" face="Courier">migrate </font><font color="#2B3D51">命令来运行我们刚刚设计好了的</font> <font color="#8F3FAE">miagration</font><font color="#2B3D51">. 在你项目的根目录下面简单的执行下面的命令:</font></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><font color="#C33825">php </font><font color="#EA4B35">artisan </font><font color="#2C97DF">migrate</font></code>
</pre></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51"><br/></font></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51">如果你希望做回滚 migration 的话, 你就需要执行 </font><font color="#EA4B35" face="Courier">migrate:rollback</font> <span style="color: rgb(44, 61, 81); font-size: 14px;">命令. 现在我们已经有了我们的数据库表格,接下来让我们向里面存放点数据.</span></blockquote>
<div><font color="#2B3D51"><font color="#2B3D51"><br/></font></font></div>
<span style="font-size: 18px;"><b><font color="#00BE9C">Eloquent ORM</font></b></span><font color="#2B3D51"><br/></font>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51">Laravel拥有一个超级 ORM 系统叫做</font> <font color="#EA4B35">Eloquent</font></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51">首先, 让我们来定义一个模型. 一个</font> <font color="#EA4B35">Eloquent</font> <font color="#2B3D51">模型一个用来查询与它相连的表格, 也可以用来代表表格里的一行. 一会儿你就会明白了. Models 一般是存储在</font> <font color="#EA4B35" face="Courier">app/models</font> <font color="#2B3D51">目录下面的. 让我们在这个目录下定义一个</font> <font face="Courier" color="#2C97DF">User.php</font> <font color="#2B3D51">模型文件,像这样</font></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51); background-position: initial initial; background-repeat: initial initial;">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background: transparent !important;"><span style="color: rgb(75, 177, 177);">class</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">User</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">extends</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Eloquent</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">{}</span></code>
</pre></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51">注意一下,这里我们并没有告诉 Eloquent 我们要使用那个表格. Eloquent 有各种自己的约定, 其中之一就是</font><font color="#227FBC">使用</font><font color="#9C56B8">模型名字</font><font color="#227FBC">的复数形式作为</font><font color="#9C56B8">模型数据库中表格</font><font color="#227FBC">的名字. </font><span style="color: rgb(43, 61, 81);">这些全是风俗约定而已.</span></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51"><br/></font></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51">你可以使用你最喜欢的数据库管理工具,在</font> <font color="#2D96DE">users</font> <font color="#2B3D51">表格中插入几行数据,我们接下来将使用</font> <font color="#EA4B35">Eloquent</font> <font color="#2B3D51">来检索他们,并把他们交给</font><font color="#9C56B8">视图(View)</font><font color="#2B3D51">来展示.</font></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51">在</font> <font color="#EA4B35" face="Courier">app/routes.php</font> <font color="#2B3D51">中添加下面的配置:</font></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'users'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);">
    $users </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">User</span><span style="color: rgb(255, 255, 255);">::</span><font color="#EA4B35">all</font><span style="color: rgb(255, 255, 255);">();</span><span style="color: rgb(233, 228, 229);"

    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">View</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">make</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'users'</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><font color="#EA4B35">with</font><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'users'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $users</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#EA4B35">User</font> <font color="#2B3D51">模型的  </font><font face="Courier" color="#EA4B35">all</font> <font color="#2B3D51">方法检索出了所有在</font> <font color="#9C56B8">users</font> <font color="#2B3D51">表格中的行, 然后我们使用  </font><font face="Courier" color="#EA4B35">with</font> <font color="#2B3D51">方法传递这些记录到</font><font color="#9C56B8">视图(view)</font><font color="#2B3D51">中. </font></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#EA4B35" face="Courier">with</font> <font color="#2B3D51">方法接受一个</font><font color="#D55400">键和值</font><font color="#2B3D51">,使用他们在</font> <font color="#9C56B8">view</font> <font color="#2B3D51">中可见. 我们可以在 view 中这样来展示他们,在</font> <font color="#EA4B35" face="Courier">app/view</font> <font color="#2B3D51">目录下,创建两个文件, </font><span style="font-size: 14px;"><font color="#EA4B35">layout.blade.php</font></span> <span style="color: rgb(44, 61, 81); font-size: 14px;">和 </span><span style="font-size: 14px;"><font color="#EA4B35">users.blade.php</font></span></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51"><br/></font></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51">接下来我们看一下使用 </font><font color="#EA4B35">刀锋(Blade)</font> <font color="#2B3D51">的语法定义的</font><font color="#9C56B8">视图(View):</font></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2C97DF">layout.blade.php</font><font color="#2B3D51">文件内容为:</font></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51); background-position: initial initial; background-repeat: initial initial;">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background: transparent !important;"><span style="color: rgb(75, 177, 177);">&lt;html&gt;</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">&lt;body&gt;</span><span style="color: rgb(233, 228, 229);"
        /><span style="color: rgb(75, 177, 177);">&lt;h1&gt;</span><span style="color: rgb(233, 228, 229);">Laravel Quickstart</span><span style="color: rgb(75, 177, 177);">&lt;/h1&gt;</span><span style="color: rgb(233, 228, 229);">

        @yield('content')
    </span><span style="color: rgb(75, 177, 177);">&lt;/body&gt;</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(75, 177, 177);">&lt;/html&gt;</span></code>
</pre></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><span style="font-size: 14px;"><font color="#2C97DF">users.blade.php</font><font color="#33475F">文件内容为:</font></span></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(188, 212, 42);">@extends</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'layout'</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(188, 212, 42);">@section</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'content'</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(188, 212, 42);">@foreach</span><span style="color: rgb(255, 255, 255);">(</span><font color="#EA4B35">$users</font><span style="color: rgb(233, 228, 229);" /><font color="#2C97DF">as</font><span style="color: rgb(233, 228, 229);" /><font color="#1ECE6C">$user</font><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
        /><span style="color: rgb(188, 212, 42);">&lt;p&gt;</span><span style="color: rgb(255, 255, 255);">{{</span><span style="color: rgb(233, 228, 229);" /><font color="#1ECE6C">$user</font><span style="color: rgb(255, 255, 255);">-&gt; </span><font color="#9C56B8">name</font><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">}}</span><span style="color: rgb(188, 212, 42); background-color: transparent; line-height: 1.9em;">&lt;/p&gt;</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(188, 212, 42);">@endforeach</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(188, 212, 42);">@stop</span></code>
</pre></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51">你可能会比较惊奇, 怎么没有看见</font> <font face="Courier" color="#EA4B35">echo</font> <font color="#2B3D51">语句呢?</font> <font color="#2C97DF">当使用 Blade 的时候, 你可以使用</font> <font color="#EA4B35" style="font-weight: bold;">{{ }}</font> <font color="#2C97DF">来显示数据.</font> <font color="#2B3D51">这个很容易做到. 现在你可以打开你的浏览器观看 http://yoursite.com/user 来观看展示的结果了.</font></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font color="#2B3D51"><br/></font></blockquote>
<blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><br/></blockquote>
<div>
<div>
<div>
<div>
<div><font color="#00BE9C" face="Hiragino Sans GB" style="font-size: 18px;"><b>Laravel项目目录结构</b></font></div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div><span style="font-size: 14px;"><font color="#7E8C8D">├── app                     </font><font color="#2C97DF">// 网站APP 代码目录, 自己的代码主要存放在这个目录下,主要是 MVC 结构</font><br/>
<font color="#7E8C8D">│   ├── commands   </font><br/>
<font color="#7E8C8D">│   ├── config          </font><font color="#2C97DF"> // </font><font color="#E87E04">存放所有laravel有关的配置文件</font><font color="#2C97DF">,APP的主配置文件</font><font color="#8F3FAE">app.php</font><font color="#2C97DF">就在存放在该目录下面.里面定义了</font></span> <span style="font-size: 14px;"><font color="#9C56B8">Service Providers</font></span><span style="font-size: 14px;"><br/>
<font color="#7E8C8D">│   ├── controllers     </font><font color="#9C56B8"><b>// C 目录</b></font><br/>
<font color="#7E8C8D">│   ├── database       </font><br/>
<font color="#7E8C8D">│   ├── filters.php</font><br/>
<font color="#7E8C8D">│   ├── lang</font><br/>
<font color="#7E8C8D">│   ├── models         </font><b><font color="#2C97DF"> </font><font color="#9C56B8">// M 目录</font></b><br/>
<font face="Hiragino Sans GB"><font color="#7E8C8D">│   ├── routes.php     </font><font color="#2C97DF">// 路由配置文件,Request 请求到来后,由那些文件处理,在这里定义.</font><br/>
<font color="#7E8C8D">│   ├── start              </font><font color="#2C97DF">//</font></font></span><span style="font-size: 14px;"><font face="Hiragino Sans GB" color="#2C97DF"> APP 对象启动前的加载文件</font></span></div>
<div><font color="#7E8C8D" face="Hiragino Sans GB">│   </font><span style="color: rgb(126, 140, 141);">│</span><span style="color: rgb(126, 140, 141);">    ├── artisan.php</span></div>
<div>
<div><font color="#7E8C8D" face="Hiragino Sans GB">│   </font><span style="color: rgb(126, 140, 141);">│</span><span style="color: rgb(126, 140, 141);">    ├── global.php</span></div>
<div><font color="#7E8C8D" face="Hiragino Sans GB">│   </font><span style="color: rgb(126, 140, 141);">│</span><span style="color: rgb(126, 140, 141);"> </span><span style="color: rgb(126, 140, 141);">   └── local.php  </span></div>
<span style="font-size: 14px;"><font face="Hiragino Sans GB"><font color="#7E8C8D">│   ├── storage          </font><font color="#2C97DF">// 存储缓存,日志,session等文件的目录</font><br/>
<font color="#7E8C8D">│   ├── tests</font></font><br/>
<font color="#7E8C8D">│   └── views             </font><b><font color="#9C56B8">// C 目录</font></b><br/>
<font color="#7E8C8D">├── artisan                 </font><font color="#2C97DF">// 命令行工具 </font><font color="#EA4B35">artisan </font><font color="#2C97DF">的文件</font><br/>
<font color="#7E8C8D">├── bootstrap            </font><font color="#2C97DF">// APP 启动前的加载文件</font><br/>
<font color="#7E8C8D">│   ├── autoload.php</font><br/>
<font color="#7E8C8D">│   ├── paths.php</font><br/>
<font color="#7E8C8D">│   └──</font><font color="#EA4B35"> 2.步 </font><font color="#7E8C8D">start.php  </font><font color="#2C97DF">// 当请求到达后,第二个调用的文件,</font></span><font color="#2C97DF"> <span style="font-size: 14px;">创建</span></font><span style="font-size: 14px; color: rgb(126, 140, 141);"> </span><span style="font-size: 14px;"><font color="#9C56B8"><b>Laravel Application Object</b>,</font><font color="#2C97DF">并作为</font></span><a href="evernote:///view/20343760/s170/c1f2938c-820b-4ec9-82ce-740f2cccdab0/c1f2938c-820b-4ec9-82ce-740f2cccdab0/" style="color: rgb(105, 170, 53);">控制反转( IoC )</a><font color="#2C97DF">的</font><font color="#9C56B8">容器</font><span style="font-size: 14px;"><br/>
<font color="#7E8C8D">├── composer.json</font><br/>
<font color="#7E8C8D">├── composer.lock</font><br/>
<font color="#7E8C8D">├── phpunit.xml</font><br/>
<font color="#7E8C8D">├── public             </font><font color="#2C97DF">   // 存放前台的静态文件,为 web 的 ROOT 目录,是 APP 的入口 index.php 的存放目录.</font><br/>
<font color="#7E8C8D">│   ├── favicon.ico</font><br/>
<font color="#7E8C8D">│   ├── </font><font color="#EA4B35">1.步</font><font color="#7E8C8D"> index.php     </font><font color="#2C97DF">// APP入口文件</font><br/>
<font color="#7E8C8D">│   ├── packages</font><br/>
<font color="#7E8C8D">│   └── robots.txt</font><br/>
<font color="#7E8C8D">├── readme.md</font><br/>
<font color="#7E8C8D">├── server.php          </font><br/>
<font color="#7E8C8D">└── vendor               </font><font color="#2C97DF">// Laravel Framework 源文件</font></span><font face="Hiragino Sans GB" style="color: rgb(126, 140, 141);"><br/></font></div>
</blockquote>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><b><font color="#00BE9C"><font face="Hiragino Sans GB"><span style="font-size: 18px;">Request Lifecycle 请求的处理流程</span></font><font face="SourceSansPro-Semibold"><span style="font-size: 18px;">,   </span></font></font><font color="#00BE9C" style="font-family: SourceSansPro-Semibold; font-size: 18px;"> </font></b><font face="Hiragino Sans GB" color="#00BE9C" style="font-size: 18px;"><b>Laravel's bootstrap process</b></font><br/></div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><u>1. 所有到达 APP 的请求,首先全部进入 <font color="#C33825">public/index.php</font> 文件. </u></font></blockquote>
</div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">从这里开始 Laravel 开始着手处理到来的请求,并返回一个对应的回应.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><br/></font></blockquote>
</blockquote>
<div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><u><font face="Hiragino Sans GB">2. </font><span style="color: rgb(43, 61, 81);">然后加载 </span><font color="#C33825">bootstrap/start.php</font> 文件,创建 <font color="#E87E04">Application (object)</font> 并进行 <font color="#E87E04">detects environment</font></u></blockquote>
</div>
</div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><font color="#2B3D51">框架在这个文件中创建 </font></font><b style="color: rgb(156, 86, 184); font-size: 14px;">Laravel Application </b><font color="#2B3D51">对象,作为 </font><font color="#9C56B8">控制反转的</font><b><font color="#9C56B8">容器.</font></b></blockquote>
</blockquote>
<div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><b><font color="#227FBC"><br/></font></b></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><b><font color="#227FBC">关于Laravel运行环境 </font></b></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><font color="#EB4B34">Laravel </font>可以配置多个运行环境,  例如开发运行环境, 本机运行环境, 实际生产运行环境(默认值)等等, 在这些运行环境里可以重写</font><font face="Hiragino Sans GB"><font color="#9C56B8">默认运行环境</font>配置文件中的定义.  </font><font face="Hiragino Sans GB">新的环境配置文件是以<font color="#E87E04">新的环境名</font>命名的目录,并存放在 </font><font face="Courier" color="#EA4B35">app/config</font><font face="Hiragino Sans GB"> 目录下. </font><font face="Hiragino Sans GB">例如 </font><font color="#EA4B35" face="Courier">local</font><font face="Hiragino Sans GB">开发环境, 就需要创建 </font><font face="Courier" color="#EA4B35">app/config/local </font><font face="Hiragino Sans GB" color="#2A3D51">目录, 并在该目录下创建 </font><font face="Hiragino Sans GB" color="#EA4B35">app.php</font><font face="Hiragino Sans GB" color="#2A3D51"> 文件, 就覆盖了</font><font face="Hiragino Sans GB"><font color="#E87E04">默认运行环境</font><font color="#2A3D51">配置文件 </font></font><font face="Courier" color="#EA4B35">app/config/app.php</font><font face="Hiragino Sans GB"> <font color="#2B3D51">中的定义.</font></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2B3D51" face="Hiragino Sans GB">然后还需要告诉 </font><font face="Hiragino Sans GB" color="#EA4B35">Laravel </font><font color="#2B3D51" face="Hiragino Sans GB">怎样监测它目前正在运行的环境是否为</font><span style="color: rgb(43, 61, 81);">新添加的运行环境, </span><font color="#2B3D51" face="Hiragino Sans GB">通过在 </font><font color="#EA4B35">bootstrap/start.php</font><span style="color: rgb(195, 56, 37);"> </span><font color="#2B3D51">文件中 </font><span style="font-size: 14px;"><font color="#EA4B35">$app-&gt;detectEnvironment </font><font color="#2B3D51">调用中添加 </font></span><font face="Courier" color="#EA4B35">'local' =&gt; array('your-machine-name'),</font><font face="Hiragino Sans GB"><font color="#2B3D51">让 </font><font color="#2C97DF">Laravel 通过运行的机器名在判定应该使用那个运行环境</font><font color="#2B3D51">. </font></font><font color="#2B3D51">还可以向 </font><font face="Courier" color="#EA4B35">detectEnvironment</font><font face="Hiragino Sans GB" color="#2B3D51"> 传递一个闭包, </font><font face="Hiragino Sans GB" color="#2C97DF">让 Laravel 依靠其他机制判断当前运行环境</font><font face="Hiragino Sans GB" color="#2B3D51">. 例如:</font></blockquote>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Courier" color="#EA4B35">$env = $app-&gt;detectEnvironment(function()<br/>
{<br/>
    </font><font face="Courier" color="#2C97DF">return </font><font face="Courier" color="#EA4B35">$_SERVER['</font><font face="Courier" color="#1AAF5D">MY_LARAVEL_ENV</font><font face="Courier" color="#EA4B35">'];  </font><font face="Courier"><font color="#95A5A5">//</font></font> <span style="font-size: 14px; font-family: Courier; color: rgb(149, 165, 165);">$_SERVER['MY_LARAVEL_ENV']; </span><span style="color: rgb(149, 165, 165);">属于敏感数据,从哪里定义见下面解释.</span><font face="Courier"><br/>
<font color="#EA4B35">});</font></font><font face="Hiragino Sans GB" color="#2B3D51"><br/></font></blockquote>
</blockquote>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB" color="#2B3D51"><br/></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">访问当前运行环境是通过,  </font><span style="color: rgb(234, 75, 53); font-family: Courier; font-size: 14px;">$environment = App::environment();</span><font face="Courier" color="#EA4B35"> </font><font face="Courier" color="#2B3D51">方法.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Courier" color="#2B3D51">你还可以向 enviroment 方法中传递参数,来检查当前运行环境是否匹配给定值.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important; background-position: initial initial !important; background-repeat: initial initial !important;"><span style="color: rgb(75, 177, 177);">if</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">App</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">environment</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'local'</span><span style="color: rgb(255, 255, 255);">))</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">// The environment is local</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(75, 177, 177);">if</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">App</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">environment</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'local'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'staging'</span><span style="color: rgb(255, 255, 255);">))</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">// The environment is either local OR staging...</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2B3D51" face="Hiragino Sans GB">有时,你可能需要"</font><font face="Hiragino Sans GB" color="#9C56B8">追加</font><font color="#2B3D51" face="Hiragino Sans GB">" 一些环境配置,而不是"覆盖" 配置, 此时需要,在相应运行环境目录下的配置文件中使用 </font><font face="Courier" color="#EA4B35">append_config </font><span style="color: rgb(44, 61, 81); font-size: 14px;">方法.</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important; background-position: initial initial !important; background-repeat: initial initial !important;"><span style="color: rgb(188, 212, 42);">'providers'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);"> append_config</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(188, 212, 42);">'LocalOnlyServiceProvider'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">))</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#227FBC"><b>保护敏感配置</b></font></blockquote>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2B3D51" face="Hiragino Sans GB">对于真正的"APP",最好保持敏感数据在配置文件外面, 例如, </font><font face="Hiragino Sans GB" color="#9C56B8">数据库密码, API keys ,加密 KEY </font><font color="#2B3D51" face="Hiragino Sans GB">等等.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2B3D51" face="Hiragino Sans GB">Laravel  提供了一个非常简单的方法, </font><font face="Hiragino Sans GB" color="#2C97DF">保存这些数据到 . 开头形式为  </font><font face="Hiragino Sans GB" style="color: rgb(245, 156, 0);">.env.环境名.php</font><font face="Hiragino Sans GB"><font color="#F59C00">  </font><font color="#2C97DF">的</font></font><font face="Hiragino Sans GB" color="#2C97DF">隐藏文件中.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2B3D51" face="Hiragino Sans GB">例如,现在 Laravel 运行在 </font><font face="Hiragino Sans GB" color="#9C56B8">local </font><font color="#2B3D51" face="Hiragino Sans GB">运行环境里, 那么创建在项目 root 目录下创建 </font><font face="Courier" color="#9C56B8">.env.local.php </font><font face="Courier" color="#2B3D51">文件,让这个文件返回一个"键值对的数组" 就像 </font><font face="Courier" color="#EA4B35">Larave </font><font face="Courier" color="#2B3D51">的其他配置文件一样:</font></blockquote>
</blockquote>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="font-size: 14px; font-family: Courier;"><font color="#EA4B35">&lt;?php</font><br/>
<font color="#2C97DF">return </font><font color="#EA4B35">array(<br/>
    '</font><font color="#1AAF5D">TEST_STRIPE_KEY</font><font color="#EA4B35">' =&gt; '</font><font color="#2C97DF">super-secret-sauce</font><font color="#EA4B35">',<br/>
);</font></span><font face="Courier" color="#2B3D51"><br/></font></blockquote>
<font color="#2B3D51"><font face="Hiragino Sans GB">所有被这个文件返回的键值对,都将自动被添加到PHP 的</font> </font><font color="#EA4B35" style="font-family: Courier; font-size: 14px;">$_ENV</font><font color="#2B3D51" style="font-family: Courier; font-size: 14px;"> 和 </font><font color="#EA4B35" style="font-family: Courier; font-size: 14px;">$_SERVER</font><font color="#2B3D51" style="font-family: Courier; font-size: 14px;"> </font><font color="#2B3D51" face="Hiragino Sans GB">超级变量中. 这样就可以在配置文件中引用这些变量了. 例如:</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="font-size: 14px; font-family: Courier;"><font color="#2B3D51">     </font></span><font face="Courier" color="#EA4B35">'</font><font face="Courier" color="#2C97DF">key</font><font face="Courier" color="#EA4B35">' =&gt; $_ENV['</font><font face="Courier" color="#1ECE6C">TEST_STRIPE_KEY</font><font face="Courier" color="#EA4B35">']</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Courier" color="#EA4B35"><br/></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB" color="#F3C500">还要确保添加</font><font color="#EA4B35" face="Courier"> </font><span style="color: rgb(234, 75, 53); font-family: Courier; font-size: 14px;">.env.local.php </span><font color="#F3C500"><font face="Hiragino Sans GB">文件</font><span style="font-family: Courier; font-size: 14px;">到</span></font><span style="color: rgb(234, 75, 53); font-family: Courier; font-size: 14px;"> .gitignore </span><font face="Hiragino Sans GB" color="#F3C500">文件中, 使其不会被添加到版本控制中.又可以使开发团队的其他成员创建他们自己的本地开放环境配置文件,由可以隐藏敏感数据.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB" color="#F3C500"><br/></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB" color="#2B3D51">在实际生产环境创建中需要创建</font><font face="Hiragino Sans GB" color="#F3C500"> </font><font face="Courier" color="#EA4B35">.env.php </font><font face="Hiragino Sans GB" color="#2B3D51">隐藏文件.</font></blockquote>
</blockquote>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="color: rgb(43, 61, 81);"><br/></span></blockquote>
</blockquote>
</blockquote>
<div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><u>3. Internal <font color="#C33825">framework/start.php</font> file<font color="#E87E04"> configures settings</font> and loads <font color="#E87E04">Service Providers</font>.</u></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="color: rgb(43, 61, 81);">Framework 内部的 script 被调用, 根据监测的运行环境中配置文件对 App 进行设置, 如 timezone, error reporting 等等, </span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB" color="#2C97DF">所有 Laravel 的配置文件都存储在</font><font color="#2B3D51" face="Hiragino Sans GB"> </font><font face="Courier" color="#EA4B35">app/config</font><font color="#2B3D51" face="Hiragino Sans GB"> </font><font face="Hiragino Sans GB" color="#2C97DF">目录下.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF"><b>访问/设置 "</b><b>配置</b><b>"</b></font></blockquote>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB" style="color: rgb(43, 61, 81);">At run-time, 访问配置值, 是通过 </font><font face="Courier" color="#EA4B35">Config </font><font face="Hiragino Sans GB" style="color: rgb(43, 61, 81);">类实现的.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2B3D51">访问配置值,  </font><font color="#EA4B35" face="Courier">Config::get('app</font><font face="Courier" color="#1ECE6C">.</font><font color="#EA4B35" face="Courier">timezone');</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="color: rgb(43, 61, 81);">访问配置值,如果不存在就使用默认值,  </span><font face="Courier" color="#EA4B35">$timezone = Config::get('app.timezone', 'UTC');</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><font color="#00BE9C">注意:  点</font><font color="#EA4B35">(.)</font><font color="#00BE9C">访问符语法,  访问</font></font><span style="color: rgb(0, 190, 156);">在不同的文件中的</span><span style="color: rgb(0, 190, 156);">不同值.</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB" color="#2B3D51">设置属性值,  </font><font face="Courier" color="#EA4B35">Config::set('database</font><font face="Courier" color="#1ECE6C"><b>.</b></font><font face="Courier" color="#EA4B35">default', 'sqlite');</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Courier" color="#2B3D51">在运行环境设置属性值只会影响到当前的请求,不会对子请求有影响.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Courier" color="#2B3D51"><br/></font></blockquote>
这时,还会进行一个非常重要的动作, 为 <font color="#8F3FAE">Application 对象</font>注册所有配置过的 <font color="#E87E04"><b>Service Providers</b>. </font><font color="#33475F">主要指在</font><font face="Courier" color="#EA4B35">app/config/app.php</font><font color="#33475F">文件的</font><font face="Courier" color="#EA4B35">providers</font><font color="#33475F">数组中配置的 </font><font color="#E87E04">Service Providers. </font><font color="#2B3D51">这些 </font><font face="Courier" color="#EA4B35">Providers </font><font color="#2B3D51">是 </font><font color="#9C56B8" face="Courier">Laraver </font><font color="#2B3D51">的 </font> <span style="font-size: 14px;"><font color="#00BE9C">primary bootstrapping mechanism</font></span><span style="font-size: 14px; color: rgb(44, 61, 81);">.</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b style="color: rgb(34, 127, 188); font-size: 14px;"><br/></b></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b style="color: rgb(34, 127, 188); font-size: 14px;">Service Providers</b></blockquote>
</blockquote>
</div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Courier" color="#EA4B35">Service providers</font><span style="font-size: 14px; color: rgb(44, 61, 81);">  是把一组相关的</span><a href="evernote:///view/20343760/s170/c1f2938c-820b-4ec9-82ce-740f2cccdab0/c1f2938c-820b-4ec9-82ce-740f2cccdab0/" style="color: rgb(105, 170, 53);">控制反转( IoC )</a> 注册在同一个位置的好办法.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">把他们想象成为你程序的一组引导组件. </blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">在一个 <span style="color: rgb(234, 75, 53); font-family: Courier;">Service providers </span><font color="#2B3D51"><font face="Courier">中</font><font face="Hiragino Sans GB">,</font></font></blockquote>
</blockquote>
</blockquote>
</div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">你可能会注册一个自定义认证的驱动, </font></blockquote>
</blockquote>
</blockquote>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">或者在</font><font face="Courier"> </font><span style="background-color: rgb(255, 254, 254); line-height: 21px; font-size: 15px;"><font face="Courier" color="#EA4B35" style="font-size: 14px;">IoC container</font> <font color="#2B3D51">中注册你程序的存储类.</font></span></blockquote>
</blockquote>
</blockquote>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="font-size: 15px; color: rgb(43, 61, 81); background-color: rgb(255, 254, 254); line-height: 21px;"><span style="font-size: 14px;">甚至设置一个自定的 </span></span><span style="background-color: rgb(255, 254, 254); line-height: 21px;"><font color="#EA4B35">Artisan </font></span><span style="color: rgb(43, 61, 81); background-color: rgb(255, 254, 254); line-height: 21px;">命令</span></blockquote>
</blockquote>
</blockquote>
</blockquote>
<div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="font-size: 14px; color: rgb(43, 61, 81); background-color: rgb(255, 254, 254); line-height: 21px;">事实上,大部分 </span><span style="background-color: rgb(255, 254, 254); line-height: 21px;"><font color="#EA4B35" face="Courier">Laraver </font></span><span style="font-size: 14px; color: rgb(43, 61, 81); background-color: rgb(255, 254, 254); line-height: 21px;">的核心组建都包含在</span><span style="font-size: 13px;"> </span><span style="font-size: 13px; color: rgb(234, 75, 53); font-family: Courier;"><span style="font-size: 14px;">Service Providers</span> </span><span style="font-size: 13px; font-family: Courier;"><font color="#2B3D51">中.</font></span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="font-size: 13px; font-family: Courier;"><font color="#2B3D51"><br/></font></span></blockquote>
<b style="font-size: 14px; color: rgb(34, 127, 188);">定义一个 Service Providers</b></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="font-size: 14px; color: rgb(44, 61, 81);">要创建一个 </span><span style="color: rgb(234, 75, 53); font-family: Courier; font-size: 13px;"><span style="font-size: 14px;">Service providers</span> </span><font color="#2B3D51" face="Hiragino Sans GB" style="font-size: 13px;"><span style="font-size: 14px;">,只需要简单的扩展</span> </font><font style="font-size: 13px; font-family: Courier;"><span style="font-size: 14px;"><font color="#EA4B35">Illuminate\</font><font color="#00BE9C">Support\ServiceProvider</font></span><font color="#EA4B35"> </font></font><font color="#33475F" face="Hiragino Sans GB" style="font-size: 13px;"><span style="font-size: 14px;">类, 定义一个</span> </font><font face="Courier" color="#EA4B35" style="font-size: 13px;"><span style="font-size: 14px;">register</span> </font><font color="#33475F" face="Hiragino Sans GB">方法:</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; background-clip: padding-box; background-color: rgb(51, 51, 51); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box;">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">use</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Illuminate</span><span style="color: rgb(233, 228, 229);">\Support\ServiceProvider</span><span style="color: rgb(255, 255, 255);">;</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(75, 177, 177);">class</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">FooServiceProvider</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">extends</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">ServiceProvider</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"

    /><span style="color: rgb(75, 177, 177);">public</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">register</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
     /><font color="#9C56B8">   $this-&gt;app</font><span style="color: rgb(255, 255, 255);">-&gt;</span><span style="color: rgb(233, 228, 229);">bind</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'foo'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
        /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
            /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">new</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Foo</span><span style="color: rgb(255, 255, 255);">;  // 返回 Foo 对象</span><span style="color: rgb(233, 228, 229);"
        /><span style="color: rgb(255, 255, 255);">});</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">}</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF" style="font-size: 14px; font-weight: bold;">注意: </font><font face="Hiragino Sans GB" style="color: rgb(51, 71, 95);">在 </font><font face="Courier" color="#00BE9C">register </font><font face="Hiragino Sans GB" style="color: rgb(51, 71, 95);">方法中,程序的 </font><font face="Courier" color="#EA4B35">Application IoC 容器</font><font face="Hiragino Sans GB" style="color: rgb(51, 71, 95);">是通过  </font><font face="Courier" color="#9C56B8">$this-&gt;app</font><span style="color: rgb(51, 71, 95); font-size: 14px;"> 属性来访问的.</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="font-size: 14px; color: rgb(44, 61, 81);"><br/></span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="color: rgb(44, 61, 81);">当创建好自己的 </span><font color="#EA4B35" face="Courier">Provider</font><span style="color: rgb(69, 69, 69);">, 并准备注册它到 </span><font face="Courier" color="#9C56B8">Application </font><span style="color: rgb(69, 69, 69);">中时,只需要简单的添加它到 </span><span style="color: rgb(234, 75, 53); font-family: Courier;">app/config/app.php </span><span style="color: rgb(69, 69, 69);">配置文件的 </span><font face="Courier" color="#EA4B35">providers </font><font face="Hiragino Sans GB" color="#31465F">数组中. </font><font face="Hiragino Sans GB" color="#31465F">你可以在这个数据</font><font face="Hiragino Sans GB" color="#31465F">中找到一个 </font><font color="#EA4B35" face="Courier">Server Provider</font><font face="Hiragino Sans GB" color="#31465F"> 的列表. </font><font color="#2C3D51" face="Hiragino Sans GB">或者要想在运行时注册一个 </font><font face="Courier" color="#EA4B35">Provider </font><font color="#2C3D51" face="Hiragino Sans GB">,需要使用 </font><font face="Courier" color="#EA4B35">App::register</font><font color="#2C3D51" face="Hiragino Sans GB"> 方法</font></blockquote>
</blockquote>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#EA4B35" face="Courier">App::</font><font face="Courier" color="#2C97DF">register</font><font color="#EA4B35" face="Courier">('</font><font face="Courier" color="#00BE9C">FooServiceProvider</font><font color="#EA4B35" face="Courier">');</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#EA4B35" face="Courier"><br/></font></blockquote>
</blockquote>
</blockquote>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C3D51" face="Hiragino Sans GB">本质上,每一个 </font><font color="#EA4B35" face="Courier">Server Provider</font><font color="#2C3D51" face="Hiragino Sans GB"> 是在</font><font face="Hiragino Sans GB" color="#9C56B8">容器</font><font color="#2C3D51" face="Hiragino Sans GB">中绑定了一个或多个的</font><font face="Hiragino Sans GB" color="#9C56B8">闭包</font><font color="#2C3D51" face="Hiragino Sans GB">. 允许在你的 </font><font color="#EA4B35" face="Courier">Application </font><font color="#2C3D51" face="Hiragino Sans GB">中访问这些绑定的</font><font face="Hiragino Sans GB" color="#9C56B8">服务.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C3D51" face="Hiragino Sans GB">当然, </font><span style="color: rgb(234, 75, 53); font-family: Courier;">Server Provider </span><font color="#2B3D51" face="Hiragino Sans GB">也可以运行任何的 </font><span style="color: rgb(44, 61, 81); font-size: 14px;">bootstrapping task.</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="font-size: 14px; color: rgb(44, 61, 81);">一个 </span><span style="color: rgb(234, 75, 53); font-family: Courier;">Server Provider</span><span style="color: rgb(44, 61, 81); font-size: 14px;"> 可以注册 </span><span style="font-size: 14px;"><font color="#2C97DF">event listeners, view composers, <b>Artisan</b> commands</font></span><span style="color: rgb(44, 61, 81); font-size: 14px;">, and more.</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="color: rgb(44, 61, 81); font-size: 14px;"><br/></span></blockquote>
</blockquote>
</blockquote>
<div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><u>4. Application <font color="#C33825">app/start</font> files are loaded.</u></font></blockquote>
</div>
</div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">当所有 </font><span style="color: rgb(234, 75, 53); font-family: Courier;">Server Provider </span><font face="Courier"><font color="#2B3D51">都注册好以后, </font><font color="#EA4B35">app/start</font> </font><font face="Hiragino Sans GB" style="color: rgb(43, 61, 81);">里的 </font><font face="Hiragino Sans GB" color="#9C56B8">Start Files</font><font face="Hiragino Sans GB" style="color: rgb(43, 61, 81);"> 文件将被加载.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="color: rgb(156, 86, 184);"><br/></span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b><font color="#227FBC">Start Files 文件夹</font></b><font color="#33475F">内</font><font face="Hiragino Sans GB" style="color: rgb(43, 61, 81);">默认这里有三个文件:  </font><font face="Courier" color="#EA4B35">global.php  local.php </font><font face="Courier" color="#33475F">和</font><font face="Courier" color="#EA4B35">  artisan.php </font></blockquote>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Courier" color="#2C97DF">(1) </font><font color="#EA4B35" face="Courier">artisan.php</font><font color="#33475F"> 是关于 </font><a href="http://laravel.com/docs/commands#registering-commands" style="color: rgb(244, 100, 95); line-height: 21px; background-color: rgb(255, 254, 254);">Artisan command line</a><font color="#454545"><span style="line-height: 21px;"> 的文件.</span></font></blockquote>
</blockquote>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="color: rgb(44, 151, 223); font-family: Courier;">(2) </span><span style="line-height: 21px;"><font color="#EA4B35" face="Courier">global.php</font><font color="#454545">  </font><font color="#454545" face="Hiragino Sans GB">默认包含一些基础的项目,例如, 注册 </font></span><font face="Hiragino Sans GB"><a href="http://laravel.com/docs/errors" style="color: rgb(244, 100, 95); line-height: 21px; background-color: rgb(255, 254, 254);">Logger</a><span style="color: rgb(69, 69, 69); line-height: 21px; background-color: rgb(255, 254, 254);"> 和包含你的</span></font><span style="color: rgb(69, 69, 69); font-family: source-sans-pro, helvetica, arial, sans-serif; line-height: 21px; background-color: rgb(255, 254, 254);"> </span><font color="#EA4B35" face="Courier">app/filters.php</font> <font face="Hiragino Sans GB">文件. 你可以在这里面自由的添加你想要的文件, 它将自动的添加到 application 的每个请求中, 而不考虑当前的<font color="#9C56B8">运行环境</font>.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="color: rgb(44, 151, 223); font-family: Courier;">(3) </span><font color="#EA4B35" face="Courier">local.php</font><font face="Hiragino Sans GB"> 文件, 只有<font color="#9C56B8">运行环境</font><font color="#2B3D51">为</font> </font><font color="#EA4B35" face="Courier">local </font><font face="Hiragino Sans GB">的时候,才会加载. 同理, 如果你在 </font><font color="#EA4B35" face="Courier">bootstrap/start.php</font><font face="Hiragino Sans GB"> 中配置了 </font><font face="Courier" color="#EA4B35">development </font><font face="Hiragino Sans GB">环境, 你就可以创建文件 </font><font color="#EA4B35" face="Courier">app/start/development.php</font><font face="Hiragino Sans GB">, 如果运行环境是 </font><font color="#EA4B35" face="Courier">development</font><font face="Hiragino Sans GB"> 的话, 它将自动的被包含进 </font><font color="#EA4B35" face="Courier">application </font><font face="Hiragino Sans GB">中.</font></blockquote>
<font face="Hiragino Sans GB" color="#227FBC"><b>什么应该放到 Start Files 中?</b></font></div>
<div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">Start File 中可以存放简单的引导代码(</font><span style="background-color: rgb(255, 254, 254); color: rgb(69, 69, 69); line-height: 21px; font-size: 15px;"><font face="Hiragino Sans GB">bootstrapping code</font></span>). 例如,你可以注册一个 <font face="Hiragino Sans GB">View composer, 配置你的 </font><span style="font-size: 14px;">logging preferences, 进行一些 PHP设置,等等. 这完全取决于你.</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="font-size: 14px;">当然, 把所有的引导代码都放到 start file 中,可能也会引起混乱, 对于大的 Application 来说, 如果你感到你的 Start File 开始混乱的时候, 可以考虑把他们转移到 <font color="#EA4B35">S</font></span><font face="Courier" color="#EA4B35">ervice Providers</font> 中.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
</div>
</blockquote>
</blockquote>
<div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><u>5. Application <font color="#C33825">app/routes.php</font> file is loaded.</u></font></blockquote>
</div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">最后是, </font><font color="#EA4B35" face="Courier">app/routes.php</font><font face="Hiragino Sans GB"> 文件被加载. </font></blockquote>
</blockquote>
<div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><u>6. Request object sent to Application, which returns Response object.</u></font></blockquote>
</div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#EA4B35" face="Courier" style="line-height: 21px;">Request object </font><font color="#2B3D51" face="Hiragino Sans GB" style="line-height: 21px;">对象被发送到 </font><font face="Courier" color="#EA4B35" style="line-height: 21px;">application</font><font color="#2B3D51" face="Hiragino Sans GB" style="line-height: 21px;">, 以便于它被分配到某个路由, 处理后, 然后返回 </font><font color="#EA4B35" face="Courier" style="line-height: 21px;">Response object.</font><font face="Hiragino Sans GB"><u><br/></u></font></blockquote>
</blockquote>
<div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><u>7. Response object sent back to client.</u></font></blockquote>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><b style="color: rgb(0, 190, 156); font-size: 18px;">Maintenance Mode 维护模式</b><font face="Hiragino Sans GB"><br/></font></div>
</div>
</div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div><font face="Hiragino Sans GB">当 Application 进入到维护模式后, 所有进入到程序的请求都被 <font color="#EA4B35">routes </font>到一个自定义的 view 中. </font></div>
<div><font face="Hiragino Sans GB">在维护模式中,</font><font face="Hiragino Sans GB"> </font><font face="Courier" color="#EA4B35">App::down</font><font face="Hiragino Sans GB"> 方法</font>的返回值将会发送给用户.</div>
</blockquote>
<div><br/></div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div><font face="Hiragino Sans GB">进入 <font color="#2C97DF">维护模式</font>,需要在命令行执行 <font color="#EA4B35"> </font></font><span style="font-size: 14px;"><font color="#EA4B35">Artisan</font> 命令:</span></div>
<div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#EA4B35" face="Courier">php artisan </font><font face="Courier" color="#2C97DF">down</font></blockquote>
</div>
<div><font face="Hiragino Sans GB">这会导致调用默认定义的 </font><font face="Courier" color="#EA4B35">app/start/global.php</font><font face="Hiragino Sans GB"> 文件中的 </font><font face="Courier" color="#EA4B35">App::down</font><font face="Hiragino Sans GB"> 方法.</font></div>
<div><br/></div>
<div><font face="Hiragino Sans GB">退出 <font color="#2C97DF">维护模式</font>,</font></div>
<div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#EA4B35" face="Courier">php artisan </font><font face="Courier" color="#2C97DF">up</font></blockquote>
</div>
<div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
</div>
<div>当程序进入<font color="#2C97DF">维护模式</font>后,想要展示一个自定义的 view 的话,添加下面的代码到 <font color="#EA4B35" face="Courier">app/start/global.php</font><font face="Hiragino Sans GB"> 文件中.</font></div>
</blockquote>
<div>
<div>
<div>
<div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; background-clip: padding-box; background-color: rgb(51, 51, 51); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box;">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">App</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">down</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Response</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">view</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'maintenance'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(),</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">503</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">如果传入 </font><font face="Courier" color="#EA4B35">down </font><font face="Hiragino Sans GB">方法的闭包返回 </font><font face="Courier" color="#EA4B35">NULL </font><font face="Hiragino Sans GB">的话, 对新请求来说<font color="#2C97DF">维护模式</font>将被忽略.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">当 App 进入<font color="#2C97DF">维护模式</font>后,没有</font><span style="color: rgb(69, 69, 69); font-family: source-sans-pro, helvetica, arial, sans-serif; font-size: 15.199999809265137px; line-height: 21px; background-color: rgb(255, 254, 254);"> </span><a href="http://laravel.com/docs/queues" style="font-size: 15.199999809265137px; color: rgb(244, 100, 95); font-family: source-sans-pro, helvetica, arial, sans-serif; line-height: 21px; background-color: rgb(255, 254, 254);">queue jobs</a><span style="color: rgb(69, 69, 69); font-family: source-sans-pro, helvetica, arial, sans-serif; font-size: 15.199999809265137px; line-height: 21px; background-color: rgb(255, 254, 254);">  会被处理.</span></blockquote>
<div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><b style="color: rgb(0, 190, 156); font-size: 18px;">Application Events 应用程序事件</b></div>
</div>
</div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div><font face="Hiragino Sans GB">你或许需要在 R</font><span style="font-size: 14px;">equest Processing  之前或之后做一些处理, 就需要通过</span>注册 <font color="#EA4B35" face="Courier">before, after, finish,  shutdown</font> <font color="#2C97DF"><b>应用程序事件</b></font>.</div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">App</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">before</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$request</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(239, 124, 97);">App</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">after</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$request</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $response</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">这些</font>注册的<font face="Hiragino Sans GB">事件监听者,在每个到达 application 请求对象(</font><font color="#EA4B35" face="Courier">Request</font><font face="Hiragino Sans GB">)处理之前(</font><font face="Courier" color="#EA4B35">before</font><font face="Hiragino Sans GB">) 和之后(</font><font face="Courier" color="#EA4B35">after</font><font face="Hiragino Sans GB">)运行这些代码.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">这些事件对于 全局过滤(</font><span style="font-size: 14px;"><font color="#9C56B8">global filtering</font></span>) 和 全局修改(<span style="font-size: 14px;"><font color="#9C56B8">global modification</font></span>) 回应(<font face="Courier" color="#EA4B35">Responses</font>)很有用.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><font color="#2C97DF">这些事件可以被注册到</font> </font><font color="#EA4B35" face="Courier">Start File</font><font face="Hiragino Sans GB"> <font color="#2C97DF">中, 或者一个</font> </font><font face="Courier" color="#EA4B35">Server Provider</font><font color="#EA4B35" face="Hiragino Sans GB"> </font><font face="Hiragino Sans GB" color="#2C97DF">中.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><br/></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">你或许也需要注册一个 </font><font face="Courier" color="#EA4B35">matched </font><font face="Hiragino Sans GB">事件的监听者. 它将在到来的请求(<font color="#EA4B35">Request</font>)被测试符合路由(<font color="#EA4B35">route</font>)规则,但是<font color="#2C97DF">路由</font>(<font color="#EA4B35">route</font>)<font color="#2C97DF">还没有被</font></font><font color="#2C97DF">调用时执行</font>.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">matched</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$route</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $request</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><span style="color: rgb(69, 69, 69); line-height: 21px; background-color: rgb(255, 254, 254);">当 </span><span style="line-height: 21px; background-color: rgb(255, 254, 254);"><font color="#EA4B35" face="Courier">Application </font></span><span style="color: rgb(69, 69, 69); line-height: 21px; background-color: rgb(255, 254, 254);">已经把回应(</span><span style="line-height: 21px; background-color: rgb(255, 254, 254);"><font color="#EA4B35">Response</font></span><span style="color: rgb(69, 69, 69); line-height: 21px; background-color: rgb(255, 254, 254);">)发送会客户端后, </span><span style="line-height: 21px; background-color: rgb(255, 254, 254);"><font color="#EA4B35" face="Courier">finish </font></span><span style="color: rgb(69, 69, 69); line-height: 21px; background-color: rgb(255, 254, 254);">事件将会被调用.</span></div>
<div><span style="line-height: 21px;"><font face="Hiragino Sans GB" style="color: rgb(69, 69, 69);">这里是</font></span><span style="color: rgb(69, 69, 69); font-size: 14px;">最后</span><span style="line-height: 21px;"><font face="Hiragino Sans GB" style="color: rgb(69, 69, 69);">能够对到达你 </font><font face="Courier" color="#EA4B35">Application </font><font face="Hiragino Sans GB" style="color: rgb(69, 69, 69);">的</font></span><span style="color: rgb(69, 69, 69); line-height: 21px;">请求</span><span style="line-height: 21px;"><font face="Hiragino Sans GB" style="color: rgb(69, 69, 69);">处理的地方.  当 </font><font face="Courier" color="#EA4B35">finish </font><font face="Hiragino Sans GB" style="color: rgb(69, 69, 69);">事件完成处理后,  </font><font face="Courier" color="#EA4B35">shutdown </font><font face="Hiragino Sans GB" style="color: rgb(69, 69, 69);">事件立即</font></span><span style="color: rgb(69, 69, 69); line-height: 21px;">被</span><span style="color: rgb(69, 69, 69); line-height: 21px;">调用, 这里是在脚本被终止前,做一些处理的最后机会.</span></div>
<div><font color="#454545" face="Hiragino Sans GB"><span style="line-height: 21px;">大部分情况下,你是不需要用到这些事件.</span></font></div>
<div><font color="#454545" face="Hiragino Sans GB"><span style="line-height: 21px;"><br/></span></font></div>
</blockquote>
<font face="Hiragino Sans GB"><span style="line-height: 21px;"><font color="#00BE9C"><span style="font-size: 18px;"><b>Routing</b></span></font><br/></span></font>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">关于程序的大部分<font color="#9C56B8">路由</font>规则都被定义在了 </font><font face="Courier" color="#EA4B35">app/routes.php</font><font face="Hiragino Sans GB"> 文件中. 最简单的路由规则只有 <font color="#EA4B35">URI </font>和 <font color="#EA4B35">闭包回调</font>. </font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB" color="#2D96DF">基础的 GET 路由配置: </font><font face="Hiragino Sans GB" color="#95A5A5">注意看</font><font face="Hiragino Sans GB" color="#9C56B8">紫色</font><font face="Hiragino Sans GB" color="#95A5A5">的不同 Route 函数.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><font color="#9C56B8"><b>get</b></font><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'/'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'Hello World'</span><span style="color: rgb(255, 255, 255);">;</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre>
<div><font face="Hiragino Sans GB" color="#2D96DF">基础的 POST 路由配置:</font></div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><font color="#9C56B8"><b>post</b></font><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'foo/bar'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'Hello World'</span><span style="color: rgb(255, 255, 255);">;</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB" color="#2D96DF">注册一个路由应对多个 HTTP 动作:</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><font color="#9C56B8"><b>match</b></font><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'GET'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'POST'</span><span style="color: rgb(255, 255, 255);">),</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'/'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'Hello World'</span><span style="color: rgb(255, 255, 255);">;</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="color: rgb(45, 150, 223);">注册一个路由应对任何 HTTP 请求: 使用 </span><font color="#EA4B35">any </font><span style="color: rgb(45, 150, 223);">方法.</span><font face="Hiragino Sans GB"><br/></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><b><font color="#9C56B8">any</font></b><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'foo'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'Hello World'</span><span style="color: rgb(255, 255, 255);">;</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre>
<div><font face="Hiragino Sans GB" color="#2C97DF">强制一个只能 HTTPS 的路由:</font></div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><font color="#9C56B8"><b>get</b></font><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'foo'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'</span><font color="#9C56B8">https</font><span style="color: rgb(188, 212, 42);">'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()    //第二个参数为一个数组</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'Must be over HTTPS'</span><span style="color: rgb(255, 255, 255);">;</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}));</span></code>
</pre>
<div><font face="Hiragino Sans GB">使用 </font><font color="#EA4B35" face="Courier">URL::to</font><font face="Hiragino Sans GB"> 方法, 生成 URLs:</font></div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$url </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);"> URL</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">to</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'foo'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></div>
</blockquote>
<div><b style="color: rgb(0, 190, 156); font-size: 18px; line-height: 21px;"><br/></b></div>
<div><b style="color: rgb(0, 190, 156); font-size: 18px; line-height: 21px;">路由参数(Routing Parameters)</b><font face="Hiragino Sans GB"><br/></font></div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB" color="#2C97DF">获取请求参数:</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user/{id}'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$id</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'User '</span><span style="color: rgb(255, 255, 255);">. </span><span style="color: rgb(233, 228, 229);">$id</span><span style="color: rgb(255, 255, 255);">;</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div><font face="Hiragino Sans GB" color="#2C97DF">含有默认值的路由参数:</font></div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user/{</span><font color="#9C56B8">name?</font><span style="color: rgb(188, 212, 42);">}'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$name </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42); background-color: transparent; line-height: 1.9em;">John</span><span style="color: rgb(255, 255, 255); background-color: transparent; line-height: 1.9em;">)</span><span style="color: rgb(233, 228, 229);"><br/></span><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);"> $name</span><span style="color: rgb(255, 255, 255);">;</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div><font face="Hiragino Sans GB"><font color="#2B3D51">基于</font><font color="#2C97DF">正规表达式</font>的路由参数: ( <font color="#EA4B35">where </font>方法的使用 )</font></div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user/{name}'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$name</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">})</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">-&gt;</span><span style="color: rgb(75, 177, 177);">where</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'name'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'[A-Za-z]+'</span><span style="color: rgb(255, 255, 255);">);     //这里声明正则表达式</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user/{id}'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$id</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">})</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">-&gt;</span><span style="color: rgb(75, 177, 177);">where</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'id'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'[0-9]+'</span><span style="color: rgb(255, 255, 255);">);        </span></code><span style="color: rgb(255, 255, 255); background-color: transparent; font-size: 11px; line-height: 1.9em;"> //这里声明正则表达式</span>
</pre></div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user/{id}/{name}'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$id</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $name</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">})</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">-&gt;</span><span style="color: rgb(75, 177, 177);">where</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'id'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'[0-9]+'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'name'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'[a-z]+'</span><span style="color: rgb(255, 255, 255);">))</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><br/></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px; font-size: 16px;"><font face="Hiragino Sans GB" color="#01A185"><b>定义一个全局格式(Defining Global Patterns)</b></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">如果你想让一个<font color="#9C56B8">路由参数(route parameter) </font>总是被限制在给定的<font color="#9C56B8">正则表达式</font>中, 你可以考虑使用 </font><font face="Courier" color="#EA4B35">pattern</font><span style="font-size: 14px;"> 方法:</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">pattern</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'id'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'[0-9]+'</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user/{id}'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$id</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">// Only called if {id} is numeric.</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b style="color: rgb(1, 161, 133); font-size: 16px;">访问一个路由参数值(</b><b style="color: rgb(0, 161, 133); font-size: 16px;">Accessing A Route Parameter Value</b><b style="color: rgb(1, 161, 133); font-size: 16px;">)</b></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">如果你需要在<font color="#9C56B8">路由</font>外, 访问一个<font color="#9C56B8">路由参数值</font>,你可能需要 <font face="Courier" color="#EA4B35">Route::input</font> 方法
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">filter</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'foo'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">() //这里是</span><font color="#EA4B35">路由过滤器</font><span style="color: rgb(255, 255, 255);">,看下面解释</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">if</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">input</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'id'</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">==</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">1</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
        /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">}</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></div>
</blockquote>
<div><b style="color: rgb(0, 190, 156); font-size: 18px; line-height: 21px;"><br/></b></div>
<div><b style="color: rgb(0, 190, 156); font-size: 18px; line-height: 21px;">路由过滤器(Routing Filter)</b><font face="Hiragino Sans GB"><br/></font></div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2B3D51">对于一个</font><font color="#9C56B8">路由</font><font color="#2B3D51">, </font><font color="#9C56B8">路由过滤器(Routing Filter) </font>提供了一个约定好了的方式达到<font color="#9C56B8">限制访问</font>目的. 对于你的站点来说,如果需要创建一个认证的区域这非常有用.<br/>
<div><font face="Hiragino Sans GB">在 </font><font color="#EA4B35">Laravel </font><font face="Hiragino Sans GB">框架内部有几个默认 </font><font color="#9C56B8">过滤器</font><font face="Hiragino Sans GB">, 包括一个 </font><font color="#EA4B35" face="Courier">auth </font><font face="Hiragino Sans GB">过滤器, 一个 </font><font color="#EA4B35" face="Courier">auth.basic </font><font face="Hiragino Sans GB">过滤器, 和一个 </font><font color="#EA4B35" face="Courier">csrf </font><font face="Hiragino Sans GB">过滤器. 他们都位于  </font><font color="#EA4B35" face="Courier">app/filters.php</font><font face="Hiragino Sans GB"> 文件中.</font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB">对于一个路由,可以有两个路由过滤器, </font><font face="Courier" color="#1ECE6C">before </font><font face="Hiragino Sans GB">和 </font><font face="Courier" color="#1ECE6C">after</font><font color="#2C97DF" face="Hiragino Sans GB"> </font><font face="Hiragino Sans GB" color="#33475F">,在定义</font><font face="Hiragino Sans GB" color="#9C56B8">路由</font><font face="Hiragino Sans GB" color="#33475F">时, 通过向</font><font face="Hiragino Sans GB" color="#9C56B8">路由</font><font face="Hiragino Sans GB" color="#33475F">的</font><font face="Hiragino Sans GB" color="#9C56B8">第二个参数的数组</font><font face="Hiragino Sans GB" color="#33475F">中指定</font><font face="Hiragino Sans GB" color="#1ECE6C">过滤器</font><font face="Hiragino Sans GB" color="#33475F">的名字.</font></div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><font color="#33475F">(1) 对于在定义</font><span style="color: rgb(30, 206, 108);">前过滤器(before filter)</span></font><font color="#33475F"><font face="Hiragino Sans GB">的闭包函数时,可以传入3个参数, </font></font></blockquote>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#33475F"><font face="Hiragino Sans GB">分别为</font></font><span style="color: rgb(51, 71, 95); font-family: Courier; font-size: 14px;">$route(路由对象), $request(请求对象), $</span><span style="font-family: Courier; font-size: 14px;"><font color="#9C56B8">value</font></span><span style="color: rgb(51, 71, 95); font-family: Courier; font-size: 14px;">(</span><span style="font-family: Courier; font-size: 14px;"><font color="#9C56B8">路由</font><font color="#2B3D51">传入</font></span><span style="color: rgb(51, 71, 95); font-family: Courier; font-size: 14px;">的值,见下面实例).</span><span style="font-family: Courier; font-size: 14px;"><font color="#1ECE6C">前过滤器</font></span><span style="color: rgb(51, 71, 95); font-family: Courier; font-size: 14px;">在进入路由动作之前调用.</span></blockquote>
</blockquote>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><font color="#33475F">(2) 对于在定义</font><font color="#1ECE6C">后过滤器(after </font></font><span style="color: rgb(30, 206, 108);">filter</span><font face="Hiragino Sans GB"><font color="#1ECE6C">)</font><font color="#33475F">的闭包</font></font><span style="color: rgb(51, 71, 95);">函数时</span><font face="Hiragino Sans GB"><font color="#33475F">,可以出入3个参数,</font></font></blockquote>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><font color="#33475F"> 分别为</font></font><span style="color: rgb(51, 71, 95); font-family: Courier; font-size: 14px;">$route(路由对象), $request(请求对象), $</span><span style="font-family: Courier; font-size: 14px;"><font color="#9C56B8">response</font></span><span style="color: rgb(51, 71, 95); font-family: Courier; font-size: 14px;">(回应对象),</span><span style="font-family: Courier; font-size: 14px;"><font color="#1ECE6C">后过滤器</font></span><span style="color: rgb(51, 71, 95); font-family: Courier; font-size: 14px;">在路由动作的 return 前调用.</span></blockquote>
</blockquote>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div style="font-size: 16px;"><font face="Hiragino Sans GB" color="#2C97DF"><b>定义一个路由过滤器</b></font></div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">filter</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'old'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">if</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'age'</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">&lt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">200</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
        /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Redirect</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">to</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'home'</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">}</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre>
<div><font face="Hiragino Sans GB">如果过滤器返回一个 <font color="#EA4B35">回应对象</font>(<font color="#EA4B35">Response</font>), 这个对象会被认为是对<font color="#EA4B35">请求(Request)</font>的回应, 之后的<font color="#EA4B35">路由(Route)</font>将不会被调用运行. 在这个路由(Route)之上的其他 </font><font color="#EA4B35">后过滤器(</font><font color="#EA4B35" face="Courier">after) </font><font face="Hiragino Sans GB">都将被取消.</font></div>
</blockquote>
<div><font face="Hiragino Sans GB"><br/></font></div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px; font-size: 16px;"><font face="Hiragino Sans GB"><b><font color="#2C97DF">附加</font><font color="#9C56B8">过滤器</font><font color="#2C97DF">到路由上(Attaching A Filter To A Route)</font></b></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'</span><font color="#1ECE6C">before</font><span style="color: rgb(188, 212, 42);">'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'</span><font color="#9C56B8">old</font><span style="color: rgb(188, 212, 42);">'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()  </span><font color="#95A5A5">// Route::get方法的第二个参数为一个数组,</font><font color="#EA4B35">before </font><font color="#95A5A5">表示为前过滤器, old 值为过滤器的名字.还可以添加 </font><font color="#EA4B35">after </font><font color="#95A5A5">后过滤器.</font><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'You are over 200 years old!'</span><span style="color: rgb(255, 255, 255);">;</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}));</span></code>
</pre></blockquote>
<div><font face="Hiragino Sans GB"><br/></font></div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b style="font-size: 16px;"><font color="#2C97DF">附加</font><font color="#9C56B8">多个过滤器</font><font color="#2C97DF">到一个路由上, 过滤器名以 | 分开</font></b><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'</span><font color="#1ECE6C">before</font><span style="color: rgb(188, 212, 42);">'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'auth</span><font color="#9C56B8"><b>|</b></font><span style="color: rgb(188, 212, 42);">old'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'You are authenticated and over 200 years old!'</span><span style="color: rgb(255, 255, 255);">;</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}));</span></code>
</pre>
<div><font face="Hiragino Sans GB">或以数组方式</font></div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'</span><font color="#1ECE6C">before</font><span style="color: rgb(188, 212, 42);">'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'auth'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'old'</span><span style="color: rgb(255, 255, 255);">),</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'You are authenticated and over 200 years old!'</span><span style="color: rgb(255, 255, 255);">;</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}));</span></code>
</pre>
<div><br/></div>
</div>
<div><font color="#2C97DF" style="font-size: 16px; font-weight: bold;">向过滤器传入参数</font>, 以 <b><font color="#9C56B8">: </font></b>分离</div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">filter</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'age'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$route</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $request</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $value</span><span style="color: rgb(255, 255, 255);">) //对于</span><font color="#EA4B35">前过滤器</font><span style="color: rgb(255, 255, 255);">来说,第三个参数为 传入的参数值, 对于</span><font color="#EA4B35">后过滤器</font><span style="color: rgb(255, 255, 255);">来说,第三个参数为请求的回应对象</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'</span><font color="#1ECE6C">before</font><span style="color: rgb(188, 212, 42);">'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><font color="#BCD42A">'age</font><b><font color="#9C56B8">:</font></b><font color="#BCD42A">200'</font><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">() // 以 </span><font color="#EA4B35">:</font><span style="color: rgb(255, 255, 255);"> 分割向多虑起传入参数</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'Hello World'</span><span style="color: rgb(255, 255, 255);">;</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}));</span></code>
</pre>
<div><b style="font-size: 16px;"><font color="#2C97DF"><br/></font></b></div>
<div><b style="font-size: 16px;"><font color="#2C97DF">基础过滤器模式</font></b></div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div><font face="Hiragino Sans GB">对于基于特定 URL 的一组<font color="#9C56B8">路由</font>, </font>你可能需要指定基础<font color="#9C56B8"> "过滤器"</font> 以全部支持这些路由.</div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">filter</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'admin'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><font color="#9C56B8"><b>when</b></font><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'admin/*'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'admin'</span><span style="color: rgb(255, 255, 255);">); //使用 * 通配符来指定一组</span><font color="#EA4B35">基础路由, </font></code><span style="background-color: rgb(50, 51, 51); color: rgb(236, 240, 241); font-family: Monaco; font-size: 11px;">注意,这里使用了路由的 </span><span style="background-color: rgb(50, 51, 51); font-family: Monaco; font-size: 11px;"><font color="#EA4B35">when </font></span><span style="background-color: rgb(50, 51, 51); color: rgb(236, 240, 241); font-family: Monaco; font-size: 11px;">方法</span>
</pre></div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">在上面的例子中, </font><font color="#EA4B35" face="Courier">admin </font><font face="Hiragino Sans GB">过滤器,将会支持所有的 以 </font><font face="Courier" color="#EA4B35">admin/</font><font face="Hiragino Sans GB"> 开头的路由. * 为通配符.</font></blockquote>
<div><font face="Hiragino Sans GB"><br/></font></div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB" color="#2C97DF"><b>基于 HTTP 动作创建过滤器</b></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><font color="#9C56B8">when</font><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'admin/*'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'admin'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'post'</span><span style="color: rgb(255, 255, 255);">));  //注意,这里使用了路由的 </span><font color="#EA4B35">when </font><span style="color: rgb(255, 255, 255);">方法</span></code>
</pre>
<div><br/></div>
</blockquote>
<span style="font-size: 18px;"><b><font color="#00BE9C">过滤器类(Filter Classes)</font></b></span><font face="Hiragino Sans GB"><br/></font>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">对于高级的过滤器,你可能需要用<font color="#9C56B8">类</font>替代<font color="#9C56B8">闭包.</font></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><font color="#9C56B8"><br/></font></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b style="color: rgb(44, 151, 223);">注册一个基于类的过滤器</b><font face="Hiragino Sans GB"><br/></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">filter</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'foo'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'FooFilter'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre>
<div><font face="Hiragino Sans GB">默认,<font color="#9C56B8">过滤器类</font>的 </font><font face="Courier" color="#9C56B8">filter </font><font face="Hiragino Sans GB">方法将要被调用.</font></div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">class</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">FooFilter</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"

    /><span style="color: rgb(75, 177, 177);">public</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(233, 228, 229);" /><font color="#9C56B8">filter</font><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
        /><span style="color: rgb(136, 136, 136);">// Filter logic...</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">}</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre>
<div><font face="Hiragino Sans GB">如果,你不希望用 </font><font face="Courier" color="#EA4B35">filter</font><font face="Hiragino Sans GB"> 方法,你需要在定义时指定方法名.</font></div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">filter</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'foo'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'FooFilter@foo'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<div><font face="Hiragino Sans GB"><br/></font></div>
<b style="color: rgb(0, 190, 156); font-size: 18px; line-height: 21px;">命名路由(Named Routes)</b><font face="Hiragino Sans GB"><br/></font>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div><font face="Hiragino Sans GB">当你需要生成一个 <font color="#9C56B8">重定向(redirects) </font>或 <font color="#9C56B8">URLs</font> 时,使用一个<font color="#9C56B8">路由的引用 </font>会更方便. 这时就需要一个<font color="#9C56B8">命名的路由</font>了.</font></div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user/profile'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'</span><font color="#9C56B8">as</font><span style="color: rgb(188, 212, 42);">'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'profile'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">() // as 为这个</span><font color="#EA4B35">路由</font><span style="color: rgb(255, 255, 255);">指定名字</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}));</span></code>
</pre></div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><br/></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">还可以为<font color="#9C56B8">路由</font>指定到一个<font color="#9C56B8">控制器的</font><font color="#9C56B8">动作</font>(</font><span style="font-size: 14px;">controller actions</span>)</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user/profile'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'</span><font color="#9C56B8">as</font><span style="color: rgb(188, 212, 42);">'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'profile'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'uses'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'UserController</span><font color="#9C56B8">@</font><span style="color: rgb(188, 212, 42);">showProfile'</span><span style="color: rgb(255, 255, 255);">));   </span></code><span style="color: rgb(255, 255, 255); background-color: transparent; font-size: 11px; line-height: 1.9em;"> as 为这个路由指定名字</span>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">现在你可以这样使用这个路由的名字去生成<font color="#9C56B8">重定向(redirects) </font>或 <font color="#9C56B8">URLs.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$url </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);"> URL</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">route</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'profile'</span><span style="color: rgb(255, 255, 255);">);  //生成 URLs</span><span style="color: rgb(233, 228, 229);">

$redirect </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Redirect</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">route</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'profile'</span><span style="color: rgb(255, 255, 255);">);   //生成重定向, Redirect::</span><font color="#EA4B35">route </font><span style="color: rgb(255, 255, 255);">方法</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">访问当前的"路由名"通过 currentRouteName 方法:</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$name </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">currentRouteName</span><span style="color: rgb(255, 255, 255);">();     //获得定义 route 时,以</span></code><span style="color: rgb(255, 255, 255); background-color: transparent; font-size: 11px; line-height: 1.9em;"> as 命名的路由名</span>
</pre></blockquote>
<div><br/></div>
<b style="color: rgb(0, 190, 156); font-size: 18px; line-height: 21px;">路由组(Route Groups)</b><br/>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">有时候,你可能需要将一个<font color="#9C56B8">过滤器</font><font color="#2B3D51">应用于一组</font><font color="#9C56B8">路由</font><font color="#33475F">. 相对于为每一个路由指定</font><font color="#9C56B8">过滤器</font><font color="#33475F">, 你可以将一组路由封装到一个</font><font color="#9C56B8">路由组</font><font color="#2B3D51">,然后在路由组上添加过滤器</font></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">group</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'before'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'auth'</span><span style="color: rgb(255, 255, 255);">),</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()    // </span><font color="#EA4B35">group </font><font color="#95A5A5">方法构建路由组, </font><font color="#EA4B35">before </font><font color="#95A5A5">指定前过滤器
{</font><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'/'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
        /><span style="color: rgb(136, 136, 136);">// Has Auth Filter</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">});</span><span style="color: rgb(233, 228, 229);"

    /><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user/profile'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
        /><span style="color: rgb(136, 136, 136);">// Has Auth Filter</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">});</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">在你的 <font face="Courier" color="#EA4B35">group </font><font face="Hiragino Sans GB">数组中添加</font> <font face="Courier" color="#EA4B35">namespace </font><font color="#33475F" face="Hiragino Sans GB">参数,用于指定组内的</font><font color="#9C56B8"><font face="Hiragino Sans GB">控制器(</font><font face="Courier">controller</font><font face="Hiragino Sans GB">)</font></font><font color="#33475F" face="Hiragino Sans GB">在一个给定的 </font><font face="Hiragino Sans GB" color="#EA4B35">namespace </font><font color="#33475F" face="Hiragino Sans GB">中:</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">group</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'</span><font color="#EA4B35">namespace</font><span style="color: rgb(188, 212, 42);">'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'Admin'</span><span style="color: rgb(255, 255, 255);">),</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()   //使用 </span><font color="#EA4B35">namespace </font><span style="color: rgb(255, 255, 255);">指定命名空间</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></blockquote>
<div><b style="color: rgb(0, 190, 156); font-size: 18px; line-height: 21px;"><br/></b></div>
<span style="font-size: 18px;"><b><font color="#00BE9C">子域路由( Sub-Domain Routing<span style="line-height: 21px;">)</span></font></b></span><br/>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Courier" color="#EA4B35">Laravel Routes </font><font face="Hiragino Sans GB">同样有能力应对</font><span style="color: rgb(156, 86, 184);">子域</span><font color="#9C56B8">通配符</font><font color="#33475F">, 并把</font><font color="#9C56B8">匹配的值作为参数传递</font><font color="#33475F">到路由:</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="font-size: 14px;">Registering Sub-Domain Routes 注册一个子域路由</span><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">group</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'domain'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'{</span><font color="#C33825">account</font><span style="color: rgb(188, 212, 42);">}.myapp.com'</span><span style="color: rgb(255, 255, 255);">),</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()  //</span><font color="#EA4B35"> domain 指定一个子域通配符</font><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"

    /><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user/{</span><font color="#1ECE6C">id</font><span style="color: rgb(188, 212, 42);">}'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><font color="#C33825">$account</font><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><font color="#1ECE6C">$id</font><span style="color: rgb(255, 255, 255);">) //  第一个参数$account就为上面 </span><font color="#9C56B8">account </font><span style="color: rgb(255, 255, 255);">的值, </span><font color="#1ECE6C">id</font><span style="color: rgb(255, 255, 255);"> 为user的id</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
        /><span style="color: rgb(136, 136, 136);">// 如果访问 http://leo.myapp.com/user/100 ,那么 $account 值为 leo, $id 值为 100</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">});</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<font face="Hiragino Sans GB"><span style="font-size: 18px;"><font color="#00BE9C"><b>路由前缀( Route Prefixing</b></font><font color="#00BE9C"><b>)</b></font></span></font><br/>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#9C56B8">一组路由</font><font face="Hiragino Sans GB">可以在</font><font color="#2C97DF">属性数组</font><font face="Hiragino Sans GB">中通过使用 </font><font color="#EA4B35" face="Courier">prefix </font><font face="Hiragino Sans GB">指定前缀. </font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">group</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'prefix'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'admin'</span><span style="color: rgb(255, 255, 255);">),</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()  </span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"

    /><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()  </span><span style="background-color: transparent; line-height: 1.9em; color: rgb(255, 255, 255);">// prefix 指定了前缀,要想访问到 user,需要访问 </span><font color="#EA4B35"><span style="background-color: transparent; line-height: 1.9em;" /><font style="background-color: transparent; line-height: 1.9em;">admin/user</font></font><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
        /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">});</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></blockquote>
<br/>
<b style="color: rgb(0, 190, 156); font-size: 18px;">绑定</b><font color="#00BE9C" style="font-size: 18px;"><b>路由与模型(Route Model Binding</b></font><font color="#00BE9C" style="font-size: 18px;"><b>)</b></font><br/>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">模型绑定提供了一个方便的方式,将<font color="#9C56B8">模型实例</font>插入到你的<font color="#E87E04">路由</font>中. 例如: 相对于插入用户 ID, 你可以插入匹配这个用户 ID 的整个<font color="#9C56B8">用户模型实例</font>.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">首先,使用 </font><font color="#EA4B35" face="Courier">Route::model</font><font face="Hiragino Sans GB"> 方法指定对于给定的参数应该使用的模型.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">首先,绑定一个参数到一个模型</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">model</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'User'</span><span style="color: rgb(255, 255, 255);">);    //</span><font color="#EA4B35"> Route::model</font><span style="color: rgb(255, 255, 255);"> 方法绑定一个数据库的模型</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">然后, 定义一个包含 </font><font color="#EA4B35" face="Courier">{user}</font><font face="Hiragino Sans GB"> 参数的路由</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'profile/{user}'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">User</span><span style="color: rgb(233, 228, 229);"> $user</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">因为,我们绑定了 </font><font color="#EA4B35" face="Courier">{user}</font><font face="Hiragino Sans GB"> 参数到 </font><font color="#EA4B35" face="Courier">User</font><font face="Hiragino Sans GB"> 模型,因此一个 </font><font face="Courier" color="#EA4B35">User </font><font face="Hiragino Sans GB">实例将要被插入到 </font><font face="Courier" color="#9C56B8">route</font><font face="Hiragino Sans GB">.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">所以,对于请求 </font><font color="#2C97DF" face="Courier">profile/1 </font><font color="#2B3D51" face="Hiragino Sans GB">将会插入用户 id 为 1 的 </font><span style="color: rgb(234, 75, 53); font-family: Courier;">User </span><span style="color: rgb(43, 61, 81);">实例.</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#F59C00" style="font-weight: bold;">注意: </font><font color="#33475F">如果绑定的用户模型实例没有在数据库中找到,一个 404 的错误将会返回.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#33475F"><br/></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#33475F">如果你希望指定自己的 </font><span style="color: rgb(51, 71, 95); font-size: 14px;">"not found" 的行为, 你可能需要传递一个闭包作为一个 </span><font face="Courier" color="#EA4B35">model </font><span style="color: rgb(51, 71, 95); font-size: 14px;">方法的第三个参数</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">model</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'User'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">throw</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">new</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">NotFoundHttpException</span><span style="color: rgb(255, 255, 255);">;</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></blockquote>
</div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB">默认是以用户 ID 解析传入路由的user参数, 有时候对于传入的<font color="#9C56B8">路由参数</font>, 你需要使用你自己的 <font color="#9C56B8">解析器(R</font></font><span style="font-size: 14px;"><font color="#9C56B8">esolver</font></span><font color="#9C56B8">)</font><font color="#33475F">解析</font><font face="Hiragino Sans GB">. 此时使用  </font><font color="#EA4B35" face="Courier">Route::bind</font><font face="Hiragino Sans GB"> 方法:</font></div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">bind</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$value</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $route</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">User</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">where</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'</span><font color="#9C56B8">name</font><span style="color: rgb(188, 212, 42);">'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $value</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><span style="color: rgb(233, 228, 229);">first</span><span style="color: rgb(255, 255, 255);">();  //路由将收到以用户名查询的结果,而不是用户 id</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">上面绑定了新的解析器,当请求 </font><span style="color: rgb(44, 151, 223); font-family: Courier;">profile/1 </span><font color="#33475F" face="Hiragino Sans GB">,时 1 将会被作为用户的名字,而不是 id 号.</font><span style="color: rgb(44, 151, 223); font-family: Courier;"> </span></blockquote>
<div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><b style="color: rgb(0, 190, 156); font-size: 18px;">触发 404 错误(</b><b style="color: rgb(0, 190, 156); font-size: 18px;">Throwing 404 Errors</b><b style="color: rgb(0, 190, 156); font-size: 18px;">)</b></div>
</div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">在一个路由中,有两种方法手工触发一个404错误. </blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#1ECE6C"><br/></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#1ECE6C">第一种</font>, 你需要使用  <font face="Courier" color="#EA4B35">App::abort </font><font color="#33475F" face="Hiragino Sans GB">方法.</font>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">App</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">abort</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">404</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div><font face="Hiragino Sans GB"><font color="#1ECD6D">第二种</font>, 你可以抛出一个 </font><font color="#EA4B35" face="Courier">Symfony\Component\HttpKernel\Exception\NotFoundHttpException </font><font color="#33475F" face="Hiragino Sans GB">实例.</font></div>
<div><font color="#33475F" face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB" color="#2C97DF"><b>处理404错误(</b></font><b style="color: rgb(44, 151, 223); font-size: 14px;">Handling 404 Errors</b><b style="color: rgb(44, 151, 223);">)</b></div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#33475F" face="Hiragino Sans GB">你可能需要在你的程序中</font><font face="Hiragino Sans GB" color="#9C56B8">注册一个"错误处理器"</font><font color="#33475F" face="Hiragino Sans GB">,处理所有的"404 Not Found" 错误. 允许你返回自定义的 404 错误页面.</font></blockquote>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">App</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">missing</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$exception</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Response</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">view</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'errors.missing'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(),</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">404</span><span style="color: rgb(255, 255, 255);">); // 这会导致返回 app/view/errors/missing.php 文件</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></blockquote>
</blockquote>
<div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><b style="color: rgb(0, 190, 156); font-size: 18px;">路由到控制器(</b><b style="color: rgb(0, 190, 156); font-size: 18px;">Routing To Controllers</b><b style="color: rgb(0, 190, 156); font-size: 18px;">)</b></div>
</div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">Laravel 不仅仅允许你路由到一个<font color="#9C56B8">闭包</font>, 而且还允许路由到一个<font color="#9C56B8">控制类(controller classes)</font>.  具体看下面的控制器的介绍.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">甚至允许创建一个 <font color="#9C56B8">资源控制器</font>(</font><a href="http://laravel.com/docs/controllers#resource-controllers" style="font-size: 15.199999809265137px; color: rgb(244, 100, 95); font-family: source-sans-pro, helvetica, arial, sans-serif; line-height: 21px; background-color: rgb(255, 254, 254);">resource controllers</a>).</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<font face="Hiragino Sans GB"><span style="font-size: 24px;"><b><font color="#EA4B35">Requests &amp; Input </font></b></span><br/></font>
<div><b style="color: rgb(0, 190, 156); font-size: 18px;">基础输入(</b><b style="color: rgb(0, 190, 156); font-size: 18px;">Basic Input)</b><font face="Hiragino Sans GB"><br/></font></div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">你可以通过简单的方法,访问所有的用户输入,而不必担心对于到来请求的 HTTP 动作是 GET 还是 POST,或者其他.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">对于多有的 HTTP 动作的用户输入访问都是一样的.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px; font-size: 12px;"><font color="#2C97DF" style="font-size: 14px;"><b>检索用户输入</b></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$name </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'name'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div style="font-size: 12px;"><b style="color: rgb(44, 151, 223); font-size: 14px;">如果用户输入缺少的话,</b><b style="color: rgb(44, 151, 223); font-size: 14px;">检索回一个默认值</b></div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$name </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'name'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'Sally'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b><font color="#2C97DF"><font face="Hiragino Sans GB">检索是否存在用户输入值</font></font></b></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">if</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">has</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'name'</span><span style="color: rgb(255, 255, 255);">))</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF"><b>对于一个请求获取所有的用户输入<font face="OpenSans-Semibold">(Getting All Input For The Request)</font></b></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$input </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">all</span><span style="color: rgb(255, 255, 255);">();</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF"><b>只获取特定的一些用户输入值(<span style="font-size: 14px;">Getting Only Some Of The Request Input</span>)</b></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$input </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">only</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'username'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'password'</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);">

$input </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">except</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'credit_card'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">当跟 表单的 "数据" 输入交互时, 你可以使用<font color="#EA4B35"><b>点(.)</b></font>操作符,访问数组.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$input </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'products.0.name'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#F59C00" style="font-weight: bold;">注意: </font><font color="#33475F">一些 javascript 库, 像 Backbone 也许发送 用户输入(input) 到 application 通过 JSON 格式. 你可以像其他普通的获取 input 值一样,通过 </font><font color="#EA4B35" face="Courier">Input::get</font><font color="#33475F"> 方法访问.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<div><b style="color: rgb(0, 190, 156); font-size: 18px;">Cookies</b><br/></div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">所有被 Laravel framework 创建的 cookies 都被使用一个认证代码(</font><span style="font-size: 14px;">authentication code</span>)进行了加密和签名, 这意味着,如果 cookies 被客户端篡改的话,那么它将会失效.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB" color="#2C97DF"><b>检索一个 cookie 值</b></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$value </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Cookie</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'name'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b><font color="#2C97DF">对于一个回应对象粘附上一个新的 Cookie</font></b></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$response </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Response</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">make</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'Hello World'</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);">

$response</span><span style="color: rgb(255, 255, 255);">-&gt;</span><span style="color: rgb(233, 228, 229);">withCookie</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">Cookie</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">make</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'name'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'value'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $minutes</span><span style="color: rgb(255, 255, 255);">));</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b><font color="#2C97DF">对下一个的回应排队创建一个 cookie</font></b></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">如果你想在一个回应对象(Response)被创建之前设置一个 cookie 的话,使用 <font color="#EA4B35" face="Courier">Cookies::queue() </font><font color="#33475F" face="Hiragino Sans GB">方法. 这个 cookie 将会自动被依附到从你程序发出的最终回应对象上.</font></blockquote>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Cookie</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">queue</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$name</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $value</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $minutes</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b><font color="#2C97DF">创建一个永远不过期的 cookie</font></b></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$cookie </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><font color="#D55400">Cookie</font><span style="color: rgb(255, 255, 255);">::</span><font color="#EA4B35">forever</font><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'name'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'value'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<font color="#00BE9C" face="Hiragino Sans GB"><span style="font-size: 18px;"><b>旧输入值(</b></span></font><span style="font-size: 18px; color: rgb(0, 190, 156);"><b>Old Input)</b></span><br/>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">你有时可能需要保持输入值, 从一个请求到另一个请求. 例如: 当你检查到提交上来的表格存在效验错误的话,可能需要退回并重现它 </blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB"><b><font color="#2C97DF">将输入值存储到 session 中(</font><span style="color: rgb(44, 151, 223);">Flashing Input To The Session</span><font color="#2C97DF">)</font></b></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><font color="#ECF0F1">flash</font><span style="color: rgb(255, 255, 255);">();</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF" face="Hiragino Sans GB"><b>只保存部分值到 session 中,避免敏感信息</b></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><font color="#ECF0F1">flashOnly</font><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'username'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'email'</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><font color="#ECF0F1">flashExcept</font><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'password'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Hiragino Sans GB">对于需要重定向到之前的页面, 而你又经常需要保存对应的输入(input)这种情况, 你可以简单的连接 <font color="#9C56B8">输入保存(input flashing)</font> 到一个 <font color="#9C56B8">重定向(redirect)</font></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Redirect</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">to</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'form'</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><span style="color: rgb(233, 228, 229);">withInput</span><span style="color: rgb(255, 255, 255);">();</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Redirect</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">to</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'form'</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><span style="color: rgb(233, 228, 229);">withInput</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">except</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'password'</span><span style="color: rgb(255, 255, 255);">));</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#F59C00" style="font-weight: bold;">注意: </font><font color="#2B3D51">你可以</font><font color="#2B3D51">使用  </font><font color="#EA4B35" face="Courier"><b>Session Class </b></font><span style="color: rgb(43, 61, 81);">跨请求存储其他数据</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"> </blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b><font color="#2D96DF">检索回旧的输入值(<span style="font-size: 14px;">Retrieving Old Data</span>)</font></b></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">old</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'username'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<b style="color: rgb(0, 190, 156); font-size: 18px;">文件(Files)</b><br/>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF" face="Hiragino Sans GB">检索一个上传的文件</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$file </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">file</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'photo'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF" face="Hiragino Sans GB">监测文件是否已经上传了</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">if</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">hasFile</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'photo'</span><span style="color: rgb(255, 255, 255);">))</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">被 <font face="Courier" color="#EA4B35">file </font>方法返回的对象是一个 <font color="#EA4B35" face="Courier">Symfony\Component\HttpFoundation\File\UploadedFile</font> 类的实例, 它扩展了PHP 的 <font face="Courier" color="#EA4B35">SplFileInfo </font><span style="font-size: 14px;">类,并提供了多种与文件交互的方法.</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF" face="Hiragino Sans GB">监测一个上传的文件是否是有效的</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">if</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">file</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'photo'</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><span style="color: rgb(233, 228, 229);">isValid</span><span style="color: rgb(255, 255, 255);">())</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">移动一个上传的文件</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">file</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'photo'</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><span style="color: rgb(233, 228, 229);">move</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$destinationPath</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">file</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'photo'</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><span style="color: rgb(233, 228, 229);">move</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$destinationPath</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $fileName</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">检索一个上传文件的路径</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$path </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">file</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'photo'</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><span style="color: rgb(233, 228, 229);">getRealPath</span><span style="color: rgb(255, 255, 255);">();</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">检索一个上传文件的原始名称</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$name </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">file</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'photo'</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><span style="color: rgb(233, 228, 229);">getClientOriginalName</span><span style="color: rgb(255, 255, 255);">();</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">检索一个上传文件的扩展名</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$extension </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">file</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'photo'</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><span style="color: rgb(233, 228, 229);">getClientOriginalExtension</span><span style="color: rgb(255, 255, 255);">();</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">检索上传文件的大小</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$size </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">file</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'photo'</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><span style="color: rgb(233, 228, 229);">getSize</span><span style="color: rgb(255, 255, 255);">();</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">检索上传文件的</font> <font face="Courier" color="#EA4B35">MIME </font><span style="font-size: 14px;"><font color="#2C97DF">类型</font></span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$mime </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">file</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'photo'</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><span style="color: rgb(233, 228, 229);">getMimeType</span><span style="color: rgb(255, 255, 255);">();</span></code>
</pre></blockquote>
<b style="color: rgb(0, 190, 156); font-size: 18px;">请求信息(</b><span style="font-size: 18px; color: rgb(0, 190, 156);"><b>Request Information</b></span><b style="color: rgb(0, 190, 156); font-size: 18px;">)</b><br/>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Courier" color="#EA4B35">Request </font>类提供很多方法来检索到达 Application 的请求(Request), 同时他还扩展了 <font face="Courier" color="#EA4B35">Symfony\Component\HttpFoundation\Request</font><span style="font-size: 14px;"> 类.</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="font-size: 14px;">这个类定义在文件 </span><font color="#EA4B35" face="Courier">vendor/laravel/framework/src/Illuminate/Http/Request.php</font> 中.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="font-size: 14px;"><font color="#2C97DF">检索获取请求的 URI</font></span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$uri </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Request</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">path</span><span style="color: rgb(255, 255, 255);">();</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">获取请求 URL<br/></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$url </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Request</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">url</span><span style="color: rgb(255, 255, 255);">();</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">检索获取请求方法</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$method </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Request</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">method</span><span style="color: rgb(255, 255, 255);">();</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(75, 177, 177);">if</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">Request</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">isMethod</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'post'</span><span style="color: rgb(255, 255, 255);">))</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">检测请求的路径是否符合给定的模式</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">if</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">Request</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">is</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'admin/*'</span><span style="color: rgb(255, 255, 255);">))</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">检索一个请求 URI 的分片</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$segment </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Request</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">segment</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">1</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">检索一个请求头</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$value </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Request</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">header</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'Content-Type'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">从 </font><font color="#EA4B35" face="Courier">$_SERVER</font><font color="#2C97DF" style="font-size: 14px;"> 变量中检索一个值</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$value </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Request</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">server</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'PATH_INFO'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">检测请求是否是通过 </font><font color="#EA4B35">HTTPS</font> </blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">if</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">Request</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">secure</span><span style="color: rgb(255, 255, 255);">())</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">检测请求是否使用的是 </font><font color="#EA4B35">Ajax</font><font color="#2C97DF">     </font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">if</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">Request</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">ajax</span><span style="color: rgb(255, 255, 255);">())</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">检测请求类型是否含有 </font><span style="font-size: 14px;"><font color="#EA4B35">JSON Content Type</font></span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">if</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">Request</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">isJson</span><span style="color: rgb(255, 255, 255);">())</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF" style="font-size: 14px;">检测请求是否是想要 </font><font color="#EA4B35" style="font-size: 14px;">JSON</font><font color="#2C97DF" style="font-size: 14px;"> 的返回( </font><span style="color: rgb(44, 151, 223); font-size: 14px;">AcceptableContentTypes </span><span style="color: rgb(44, 151, 223); font-size: 14px;">== 'application/json' </span><span style="color: rgb(44, 151, 223); font-size: 14px;">)</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">if</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">Request</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">wantsJson</span><span style="color: rgb(255, 255, 255);">())</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">检查发起请求时,要求</font><span style="color: rgb(44, 151, 223);">服务器</span><font color="#2C97DF">的回应格式, 基于</font><span style="color: rgb(44, 151, 223); font-size: 14px;"> HTTP Accept header 信息</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">if</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">Request</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">format</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">==</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'json'</span><span style="color: rgb(255, 255, 255);">) //这个跟上面的方法其实是一样的</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<span style="font-size: 24px; color: rgb(234, 75, 53);"><b>Views &amp; Responses</b></span><b style="font-size: 24px;"><font color="#EA4B35"> </font></b><br/>
<b style="color: rgb(0, 190, 156); font-size: 18px;">Basic</b><span style="font-size: 18px; color: rgb(0, 190, 156);"><b> Responses</b></span><br/>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">从</font><font color="#9C56B8">路由</font><font color="#2C97DF">返回一个字符串</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'/'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'Hello World'</span><span style="color: rgb(255, 255, 255);">;</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">创建一个自定义的回应,</font> <font color="#9C56B8">回应对象(Response)</font><font color="#2C97DF">继承自 </font><span style="font-size: 14px;"><font color="#EA4B35">Symfony\Component\HttpFoundation\Response</font></span><span style="color: rgb(44, 151, 223); font-size: 14px;"> 类,提供了丰富的方法构建 HTTP 回应对象.</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$response </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Response</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">make</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$contents</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $statusCode</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);">

$response</span><span style="color: rgb(255, 255, 255);">-&gt;</span><span style="color: rgb(233, 228, 229);">header</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'Content-Type'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $value</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);"> $response</span><span style="color: rgb(255, 255, 255);">;</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">如果你需要使用 </font><font color="#EA4B35">Response </font><font color="#2C97DF">的类方法,返回一个 </font><font color="#EA4B35">view </font><font color="#2C97DF">作为回应内容的话, 那么使用 </font><font color="#EA4B35">Response::view</font><font color="#2C97DF"> 方法就很方便</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Response</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">view</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'hello'</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><span style="color: rgb(233, 228, 229);">header</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'Content-Type'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $type</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">粘附 cookies 到回应对象</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$cookie </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Cookie</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">make</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'name'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'value'</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Response</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">make</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$content</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><font color="#9C56B8">withCookie</font><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$cookie</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<font color="#2C97DF"><br/></font><b style="color: rgb(0, 190, 156); font-size: 18px;">重定向(Redirects)</b><br/>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">返回一个重定向</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Redirect</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">to</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user/login'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">返回一个重定向, 并存储数据</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Redirect</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">to</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user/login'</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><font color="#8F3FAE">with</font><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'message'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'Login Failed'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#F59C00" style="font-weight: bold;">注意: </font><font color="#33475F">因为 </font><font color="#8F3FAE" face="Courier">with </font><font color="#33475F">方法存储数据到 </font><font color="#EA4B35">Session</font><font color="#33475F">, 你可以使用 </font><font color="#EA4B35">Session::get</font><font color="#33475F"> 方法检索回存储的数据.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">返回一个重定向到一个命名了的</font><font color="#9C56B8">路由</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Redirect</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">route</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'login'</span><span style="color: rgb(255, 255, 255);">); //路由的命名看上面,主要是在定义路由时,在数据属性中添加 as </span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">返回一个重定向到一个命名了的</font><font color="#9C56B8">路由, </font><font color="#2C97DF">并传递参数</font><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Redirect</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">route</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'profile'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">( </span><span style="color: rgb(188, 212, 42);">1 </span><span style="color: rgb(255, 255, 255);">));</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">返回一个重定向到一个命名了的</font><font color="#9C56B8">路由, </font><font color="#2C97DF">并</font><font color="#2C97DF">传递命名了的参数</font><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Redirect</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">route</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'profile'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">( </span><span style="color: rgb(188, 212, 42);">'user'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">1 </span><span style="color: rgb(255, 255, 255);">));</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">返回一个重定向到一个动作控制器, 并传递参数, 或者带名字的参数</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Redirect</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">action</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'HomeController@index'</span><span style="color: rgb(255, 255, 255);">); // 导致会调用 HomeController 的 index 方法</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Redirect</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">action</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'UserController@profile'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">1</span><span style="color: rgb(255, 255, 255);">));</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Redirect</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">action</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'UserController@profile'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">1</span><span style="color: rgb(255, 255, 255);">));</span></code>
</pre></blockquote>
<font color="#00BE9C"><span style="font-size: 18px;"><b>视图(view)</b></span></font><br/>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">视图一般包含着你 Application 的 HTML 代码.   并提供了一个方便方式, 使你的控制器和站内逻辑从展示中分离出来.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">视图(<font color="#EA4B35">View</font>)存储在 <font color="#EA4B35" face="Courier">app/view</font> 目录下.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">一个简单的视图是这样的</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(136, 136, 136);">&lt;!-- View stored in app/views/greeting.php --&gt;</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(75, 177, 177);">&lt;html&gt;</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">&lt;body&gt;</span><span style="color: rgb(233, 228, 229);"
        /><span style="color: rgb(75, 177, 177);">&lt;h1&gt;</span><span style="color: rgb(233, 228, 229);">Hello, </span><span style="color: rgb(255, 255, 255);">&lt;?</span><span style="color: rgb(233, 228, 229);">php echo $name</span><span style="color: rgb(255, 255, 255);">;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">?&gt;</span><span style="color: rgb(75, 177, 177);">&lt;/h1&gt;</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">&lt;/body&gt;</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(75, 177, 177);">&lt;/html&gt;</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">这个视图可以像这样被返回给浏览器</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'/'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">View</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">make</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'greeting'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'name'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'Taylor'</span><span style="color: rgb(255, 255, 255);">));  //使用 make 方法生产 view 视图</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">传递给 <font color="#EA4B35">View::make</font> 的第二个数组参数的数据,可以在 view 中被查看.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="color: rgb(44, 151, 223);">向视图传递数据</span><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(136, 136, 136);">// Using conventional approach</span><span style="color: rgb(233, 228, 229);">
$view </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">View</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">make</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'greeting'</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><span style="color: rgb(75, 177, 177);">with</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'name'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'Steve'</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(136, 136, 136);">// Using Magic Methods</span><span style="color: rgb(233, 228, 229);">
$view </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">View</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">make</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'greeting'</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><span style="color: rgb(233, 228, 229);">withName</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'steve'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre>
<div>如果你愿意,你可以给向 <font face="Courier" color="#EA4B35">make </font>方法的第二个参数传递一个包含数据的数组.</div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$view </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">View</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">make</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'greetings'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $data</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">你还可以在所有的 <font color="#EA4B35">view </font>之间共享数据片段<br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">View</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">share</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'name'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'Steve'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF">向一个视图中传递一个子视图(Sub-view)</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">     有时候,你可能需要将一个 <font color="#EA4B35">view </font>传递到另一个 <font color="#EA4B35">view </font>中去, 例如,将一个存储在 <span style="font-size: 14px;"><font color="#EA4B35">app/views/child/view.php</font> 中的视图, 传递给另一个 <font color="#EA4B35">view</font></span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$view </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">View</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">make</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'greeting'</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><span style="color: rgb(233, 228, 229);">nest</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'child'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'child.view'</span><span style="color: rgb(255, 255, 255);">); // 第一个 child 为 key,就是这个 view 的一个名字,下面用到</span><span style="color: rgb(233, 228, 229);">

$view </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">View</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">make</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'greeting'</span><span style="color: rgb(255, 255, 255);">)-&gt;</span><span style="color: rgb(233, 228, 229);">nest</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'child'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'child.view'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $data</span><span style="color: rgb(255, 255, 255);">); </span></code><span style="color: rgb(255, 255, 255); background-color: transparent; font-size: 11px; line-height: 1.9em;">// 第一个 child 为 key,</span><span style="color: rgb(255, 255, 255); background-color: transparent; font-size: 11px; line-height: 1.9em;">就是这个 view 的一个名字,下面用到</span>
</pre></blockquote>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">然后这个子视图(Sub-view) 可以在父视图中像这样被渲染</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">&lt;html&gt;</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">&lt;body&gt;</span><span style="color: rgb(233, 228, 229);"
        /><span style="color: rgb(75, 177, 177);">&lt;h1&gt;</span><span style="color: rgb(233, 228, 229);">Hello!</span><span style="color: rgb(75, 177, 177);">&lt;/h1&gt;</span><span style="color: rgb(233, 228, 229);"
        /><span style="color: rgb(255, 255, 255);">&lt;?</span><span style="color: rgb(233, 228, 229);">php echo </span><font color="#F3C500">$child;</font><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">?&gt;</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">&lt;/body&gt;</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(75, 177, 177);">&lt;/html&gt;</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
</blockquote>
<span style="font-size: 18px; color: rgb(0, 190, 156);"><b>视图设计者(View Composers)</b></span><br/>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#EA4B35">View Composers</font> 是 <font color="#EA4B35">view </font>在渲染时的<font color="#9C56B8">回调函数</font>或<font color="#9C56B8">类方法</font>.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">如果有些数据, 你想你的视图(view)每次通过 <font color="#9C56B8">application </font>渲染的时候,这些数据都跟渲染的 <font color="#EA4B35">view </font>绑定起来, 那么 <font color="#EA4B35">View Composers</font> 能够把这些代码组织到一个单独的地方. 从这方面看的话,   <font color="#EA4B35">View Composer</font> 更像是 "视图模型(View Models)" 或者 "表现者(<span style="background-color: rgb(255, 254, 254); color: rgb(69, 69, 69); line-height: 21px; font-size: 15px;">presenters</span><span style="background-color: rgb(255, 254, 254); color: rgb(69, 69, 69); font-family: source-sans-pro, helvetica, arial, sans-serif; font-size: 15.199999809265137px; line-height: 21px;">)".</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF"><b>定义一个</b></font> <font color="#EA4B35">View Composers</font><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">View</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">composer</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'profile'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$view</span><span style="color: rgb(255, 255, 255);">)     // porfile 为 一个 view 的名字</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);">
    $view</span><span style="color: rgb(255, 255, 255);">-&gt;</span><span style="color: rgb(75, 177, 177);">with</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'count'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">User</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">count</span><span style="color: rgb(255, 255, 255);">());     //count 为绑定到 profile view 的数据</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">现在每次 <font color="#EA4B35">profile </font>视图(view)被渲染的时候, <font color="#EA4B35">count </font><font color="#33475F">数据都会被绑定到这个视图(view).</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2C97DF"><b>基于 view composer 的类</b></font><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">如果你宁愿使用一个基于 <font color="#EA4B35">composer </font>的类的话, 你可以通过 <font color="#9C56B8">Application</font> <a href="evernote:///view/20343760/s170/c1f2938c-820b-4ec9-82ce-740f2cccdab0/c1f2938c-820b-4ec9-82ce-740f2cccdab0/" style="color: rgb(105, 170, 53);">控制反转( IoC )</a> <font color="#9C56B8">容器</font> 解决这个需求, 你可以这样做:</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">View</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">composer</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'profile'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'ProfileComposer'</span><span style="color: rgb(255, 255, 255);">);    </span></code><span style="color: rgb(255, 255, 255); background-color: transparent; font-size: 11px; line-height: 1.9em;">// porfile 为 一个 view 的名字,</span>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">一个<font color="#9C56B8">基于 view composer 的类</font>应该这样被定义:</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">class</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">ProfileComposer</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"

    /><span style="color: rgb(75, 177, 177);">public</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(233, 228, 229);"> compose</span><span style="color: rgb(255, 255, 255);">(</span><font color="#F59C00">$view</font><span style="color: rgb(255, 255, 255);">)   //定义一个 compose 方法,将会被调用</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
        /><font color="#F59C00">$view</font><span style="color: rgb(255, 255, 255);">-&gt;</span><span style="color: rgb(75, 177, 177);">with</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'count'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">User</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">count</span><span style="color: rgb(255, 255, 255);">());</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">}</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b><font color="#2C97DF">定义多个 Composers</font></b></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">你可以使用 <font face="Courier" color="#EA4B35">composers</font> 方法在同一时间注册一个关于 composer 的组.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">View</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">composers</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(188, 212, 42);">'AdminComposer'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'admin.index'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'admin.profile'</span><span style="color: rgb(255, 255, 255);">),</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(188, 212, 42);">'UserComposer'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'user'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">));</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#F3C500" style="font-weight: bold;">注意: </font><font color="#33475F">这里没有规定 </font><font color="#EA4B35">composers </font><font color="#33475F">应该被存储在哪里.  你可以自由的存储他们在任何的地方,只要他们可以被你 </font><span style="font-size: 14px;"><font color="#EA4B35">composer.json</font></span><span style="color: rgb(51, 71, 95); font-size: 14px;"> 文件中的指令自由加载就好.</span></blockquote>
<div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><b style="color: rgb(0, 190, 156); font-size: 18px;">视图创建者(</b><b style="color: rgb(0, 190, 156); font-size: 18px;">View Creators</b><b style="color: rgb(0, 190, 156); font-size: 18px;">)</b></div>
</div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#EA4B35">View Creators</font> 基本上和 <font color="#9C56B8">View Composers</font> 做一样工作. 但是, 他们是在 <font color="#EA4B35">view</font> 被实例化(<span style="font-size: 14px;"><font color="#EA4B35">instantiated</font></span>)后立即被调用.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">要注册一个 <font color="#EA4B35">View Creators</font>  可以使用 <font color="#EA4B35">View </font>类的 <font color="#EA4B35" face="Courier">creator </font>方法.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">View</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">creator</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'profile'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$view</span><span style="color: rgb(255, 255, 255);">)  </span><span style="background-color: transparent; color: rgb(255, 255, 255); line-height: 1.9em;">// porfile 为 一个 view 的名字</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);">
    $view</span><span style="color: rgb(255, 255, 255);">-&gt;</span><span style="color: rgb(75, 177, 177);">with</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'count'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">User</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">count</span><span style="color: rgb(255, 255, 255);">());</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></blockquote>
<div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><b style="color: rgb(0, 190, 156); font-size: 18px;">特殊的回应(Special Responses)</b><font face="Hiragino Sans GB"><br/></font></div>
</div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b><font color="#2C97DF">创建一个 </font><font color="#EA4B35">JSON </font><font color="#2C97DF">回应</font></b>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Response</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">json</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'name'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'Steve'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'state'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'CA'</span><span style="color: rgb(255, 255, 255);">));</span></code>
</pre></div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b><font color="#2C97DF">创建一个 </font><font color="#EA4B35">JSONP </font><font color="#2C97DF">回应</font></b></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Response</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">json</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'name'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'Steve'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'state'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'CA'</span><span style="color: rgb(255, 255, 255);">))-&gt;</span><span style="color: rgb(233, 228, 229);">setCallback</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">Input</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'callback'</span><span style="color: rgb(255, 255, 255);">));</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b><font color="#2C97DF">创建一个文件下载回应</font></b></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Response</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">download</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$pathToFile</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Response</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">download</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$pathToFile</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $name</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $headers</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre>
<div><font face="Hiragino Sans GB" color="#F59C00"><b>注意: </b></font><span style="font-size: 14px;">Symfony HttpFoundation 类管理着文件下载功能, 被请求下载的文件必须有一个 </span><span style="font-size: 14px;">ASCII 文件名.</span></div>
</blockquote>
<div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB" color="#00BE9C" style="font-size: 18px;"><b>回应宏 (Response Macros)</b></font></div>
</div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">如果你想定义一个能够被多个 <font color="#9C56B8">路由(Routes)</font> 和 <font color="#9C56B8">控制器(controller)</font> 重用的 <font color="#9C56B8">回应(Response)</font>, 你可以使用 <font color="#EA4B35" face="Courier">Response::macro</font>  方法
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Response</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">macro</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'caps'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$value</span><span style="color: rgb(255, 255, 255);">)   // caps  为宏的名字</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Response</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">make</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">strtoupper</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$value</span><span style="color: rgb(255, 255, 255);">));</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></div>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#EA4B35" face="Courier">macro </font>方法使用它的第一个参数作为它的<font color="#E87E04">名字</font>, 第二个参数为一个<font color="#E87E04">闭包</font>. 当在 <font color="#9C56B8">回应类(Response) </font>中调用宏名字时, 这个闭包将会被执行.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Response</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">caps</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'foo'</span><span style="color: rgb(255, 255, 255);">);   //掉用一个定义好了的宏, 使用上面定义的</span><font color="#EA4B35">宏名字</font><span style="color: rgb(255, 255, 255);">作为方法名</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">你可以在把你的宏定义在 <font color="#EA4B35">app/start</font>  中的一个文件里. 或者你可以组织你的宏到一个单独的文件,然后在 <font color="#EA4B35">start </font>文件中包含它.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<span style="font-size: 24px; color: rgb(234, 75, 53);"><b>控制器(Controllers)</b></span><br/>
<b style="color: rgb(0, 190, 156); font-size: 18px;">基础控制器 (</b> <span style="font-size: 18px; color: rgb(0, 190, 156);"><b>Basic Controllers )</b></span><br/>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">相对于把所有 <font color="#9C56B8">路由级别(Route-Level)</font> 的逻辑定义在单一的 <font color="#EA4B35">routes.php</font> 文件中, 你可能更愿意使用 <font color="#9C56B8">控制类(Controller Class)</font> 来组织这些行为(<span style="font-size: 14px;">behavior</span>).</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#9C56B8">控制器(Controllers)</font> 可以组织相关的 <font color="#E87E04">路由逻辑</font> 到一个类中, 而且还能够采用更多高级框架的特征,像自动的 <a href="http://laravel.com/docs/ioc" style="font-size: 15.199999809265137px; color: rgb(244, 100, 95); line-height: 21px; background-color: rgb(255, 254, 254);">dependency injection</a><span style="color: rgb(69, 69, 69); font-size: 15.199999809265137px; line-height: 21px; background-color: rgb(255, 254, 254);">.</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#9C56B8">控制器</font>一般存放在 <font color="#EA4B35">app/controllers</font> 目录下,这个目录是在 <font color="#EA4B35">composer.json</font> 文件的 <font color="#1ECE6C">classmap </font>选项中被默认注册的. 然而, 控制器可以存储在任何的目录或者子目录中.<font color="#2C97DF">路由声明(<span style="font-size: 14px;">Route declarations</span>)</font>并不依赖于 <font color="#9C56B8">控制器类 </font>在硬盘上的存储位置, 所以只要 <span style="font-size: 14px;"><font color="#EA4B35">Composer </font><font color="#2B3D51">知道</font>怎样自动加载 <font color="#9C56B8">控制器类(controller class)</font>, 它就可以存放在任何你想存放的位置.</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">这里是一个基础控制器类的例子:</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">class</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">UserController</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">extends</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">BaseController</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">{  //所有的控制器都应该扩展于 </span><span style="line-height: normal; font-family: Monaco;"><font color="#EA4B35">BaseController</font></span><span style="color: rgb(233, 228, 229);"

    /><span style="color: rgb(136, 136, 136);">/**
     * Show the profile for the given user.
     */</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">public</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(233, 228, 229);"> showProfile</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$id</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);">
        $user </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">User</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">find</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$id</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);"

        /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">View</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">make</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user.profile'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);"> $user</span><span style="color: rgb(255, 255, 255);">));</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">}</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">所有的控制器都应该扩展于 <font color="#EA4B35" face="Courier">BaseController</font>,  <font face="Courier" color="#EA4B35">BaseController</font>类被存储在了<font color="#EA4B35"> app/controllers</font> 目录下, <font color="#2C97DF">这里可以被用作存放</font><font color="#EA4B35">共享控制逻辑</font><font color="#2C97DF">的地方</font>.<br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="color: rgb(234, 75, 53); font-family: Courier;">BaseController类</span>扩展于框架的 <font face="Courier" color="#EA4B35">Controller </font>类, 现在我们可以像这样<font color="#9C56B8">路由</font>到这个<font color="#9C56B8">控制的动作</font>.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'user/{id}'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'UserController</span><font color="#EA4B35">@</font><span style="color: rgb(188, 212, 42);">showProfile'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">如果你选择使用 PHP 的命名空间(<span style="font-size: 14px;"><font color="#EA4B35">namespaces</font></span>) 嵌套或者组织你的 <font color="#EA4B34">控制器(controller)</font>, 只要在定义 <font color="#9C56B8">路由</font> 的时候使用 <font color="#EA4B35">完全限定类名(fully qualified class name)</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'foo'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'</span><font color="#00BE9C">Namespace\FooController</font><font color="#EA4B35">@</font><font color="#2C97DF">method</font><span style="color: rgb(188, 212, 42);">'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b><font color="#F59C00">注意:</font> </b>因为我们使用了 <a href="http://getcomposer.org/">Composer</a> 来自动加载我们的 PHP 类, <font color="#9C56B8">控制器 </font><font color="#33475F">可以存放在文件系统的任何位置,只要 Composer 知道怎样加载他们. </font><font color="#9C56B8">控制器</font><font color="#33475F">目录并不强制要求你的 application 的拥有某种目录结构. </font><font color="#9C56B8">路由</font><font color="#33475F">到你的控制器是和整个于文件系统耦合的.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">你还可以在控制器路由上指定名字:</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'foo'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'uses'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'FooController@method'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"
                                        /><span style="color: rgb(188, 212, 42);">'as'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'name'</span><span style="color: rgb(255, 255, 255);">));</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">要生成到一个控制器下动作的 <font color="#EA4B35">URL</font>, 你可以使用 <font face="Courier" color="#EA4B35">URL::action</font> 方法,或者使用 <font color="#EA4B35">action  <span style="font-size: 14px;">helper method:</span></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$url </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><font color="#C23726">URL::action</font><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'FooController@method'</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);">

$url </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><font color="#EA4B35">action</font><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'FooController@method'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">你可以通过运行 <font face="Courier" color="#EA4B35">currentRouteAction </font><span style="font-size: 14px;">方法获取运行的 <font color="#9C56B8">控制器下的名字(</font></span><font color="#9C56B8"><span style="font-size: 14px;">controller action</span><span style="font-size: 14px;">).</span></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$action </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">currentRouteAction</span><span style="color: rgb(255, 255, 255);">();</span></code>
</pre></blockquote>
<b style="color: rgb(0, 190, 156); font-size: 18px;">控制器过滤器(</b> <span style="font-size: 18px; color: rgb(0, 190, 156);"><b>Controller Filters </b></span><b style="color: rgb(0, 190, 156); font-size: 18px;">)</b><br/>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">过滤器(<a href="http://laravel.com/docs/routing#route-filters">Filters</a>)可以被指定在<font color="#9C56B8">控制器的路由(Controller Routes)</font> 上就像正规的<font color="#9C56B8">路由</font>一样</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(75, 177, 177);">get</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'profile'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'before'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'auth'</span><span style="color: rgb(255, 255, 255);">, // 设置</span><font color="#EA4B35">前过滤器</font><span style="color: rgb(233, 228, 229);"
            /><span style="color: rgb(188, 212, 42);">'uses'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'UserController@showProfile'</span><span style="color: rgb(255, 255, 255);">));</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">然后,你还可以在你的控制器内部设置过滤器</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">class</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">UserController</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">extends</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">BaseController</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"

    /><span style="color: rgb(136, 136, 136);">/**
     * Instantiate a new UserController instance.
     */</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">public</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(233, 228, 229);"> __construct</span><span style="color: rgb(255, 255, 255);">()     //构造函数</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);">
        $this</span><span style="color: rgb(255, 255, 255);">-&gt;</span><span style="color: rgb(233, 228, 229);">beforeFilter</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'auth'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'except'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'getLogin'</span><span style="color: rgb(255, 255, 255);">));  //设置</span><font color="#EA4B35">前过滤器</font><span style="color: rgb(233, 228, 229);">

        $this</span><span style="color: rgb(255, 255, 255);">-&gt;</span><span style="color: rgb(233, 228, 229);">beforeFilter</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'csrf'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'on'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'post'</span><span style="color: rgb(255, 255, 255);">));</span><span style="color: rgb(233, 228, 229);">

        $this</span><span style="color: rgb(255, 255, 255);">-&gt;</span><span style="color: rgb(233, 228, 229);">afterFilter</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'log'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'only'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);">
                            array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'fooAction'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'barAction'</span><span style="color: rgb(255, 255, 255);">)));   //设置 </span><font color="#EA4B35">后过滤器</font><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">}</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">你还可以使用一个<font color="#9C56B8">闭包</font>来指定控制器的过滤器</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">class</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">UserController</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">extends</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">BaseController</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"

    /><span style="color: rgb(136, 136, 136);">/**
     * Instantiate a new UserController instance.
     */</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">public</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(233, 228, 229);"> __construct</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);">
        $this</span><span style="color: rgb(255, 255, 255);">-&gt;</span><span style="color: rgb(233, 228, 229);">beforeFilter</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
        /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
            /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
        /><span style="color: rgb(255, 255, 255);">});</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">}</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">如果你想使用控制器内的另外一个方法作为控制器的过滤器, 你可以使用<font color="#EA4B35"> @ </font>语法定义这个过滤器.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">class</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">UserController</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">extends</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">BaseController</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"

    /><span style="color: rgb(136, 136, 136);">/**
     * Instantiate a new UserController instance.
     */</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">public</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(233, 228, 229);"> __construct</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);">
        $this</span><span style="color: rgb(255, 255, 255);">-&gt;</span><span style="color: rgb(233, 228, 229);">beforeFilter</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'@filterRequests'</span><span style="color: rgb(255, 255, 255);">);    //</span><font color="#EA4B35">指定一个内部的方法作为过滤器</font><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">}</span><span style="color: rgb(233, 228, 229);"

    /><span style="color: rgb(136, 136, 136);">/**
     * Filter the incoming requests.
     */</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">public</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(233, 228, 229);"> filterRequests</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$route</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $request</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
        /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">}</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<span style="font-size: 18px; color: rgb(0, 190, 156);"><b>RESTful Controllers</b></span>
<div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="font-size: 14px;">Laravel allows you to easily define a single route to handle every action in a controller using simple, REST naming conventions. First, define the route using the Route::controller method:</span><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="font-size: 14px;"><br/></span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">Laravel 允许你很容易的定义一条单独<font color="#9C56B8">路由, </font>到一个可以使用 <a href="http://zh.wikipedia.org/wiki/REST">REST</a> 命名规范来处理所有动作的控制器(Controller)中. </blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">首先, 使用 <font color="#EA4B35" face="Courier">Route::controller </font>方法定义一个路由.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><font color="#9C56B8">Route</font><span style="color: rgb(255, 255, 255);">::</span><font color="#EA4B35">controller</font><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'users'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'UserController'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#EA4B35">Contoller </font>方法接受两个参数,第一个为控制器处理的 <font color="#9C56B8">基础 URI </font><font color="#2B3D51">, 第二个是一个控制器的类名.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2B3D51">接下来,在控制器中添加一些 </font><font color="#2C97DF">以 HTTP 动作(GET,POST,DELETE)开头的回应方法</font><font color="#2B3D51">.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">class</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">UserController</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">extends</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">BaseController</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"

    /><span style="color: rgb(75, 177, 177);">public</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(233, 228, 229);"> getIndex</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
        /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">}</span><span style="color: rgb(233, 228, 229);"

    /><span style="color: rgb(75, 177, 177);">public</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(233, 228, 229);"> postProfile</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
        /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(255, 255, 255);">}</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font face="Courier" color="#EA4B35">index</font> 方法可以使控制器回应到根 <font color="#9C56B8">基础 URI</font> 的请求,在上面的案例中是 <font color="#00BE9C">users</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">如果在控制器的动作方法中包含多个单词,你可以在 URI 中使用<font color="#9C56B8">下划线(_)</font>语法来访问这个动作. 例如下面在我们的<font color="#E87E04"> UserController</font> 类中的控制器动作方法,可以回应的URI 为 <font color="#EA4B35">users/admin-profile</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">public</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(233, 228, 229);"> getAdminProfile</span><span style="color: rgb(255, 255, 255);">()</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">{}</span></code>
</pre></blockquote>
<span style="font-size: 18px; color: rgb(0, 190, 156);"><b>资源控制器(Resource Controllers)</b></span><br/>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#9C56B8">资源控制器(Resource Controllers)</font>可以很容易的围绕资源构建 RESTful 控制器. 例如, 你可能希望创建一个管理 Application 存储的照片的控制器. 通过 Artisan 命令行的 <font face="Courier" color="#F59C00">controller::make</font><font color="#EA4B35" face="Courier"> </font><font color="#2B3D51">命令和 </font><font face="Courier" color="#EA4B35">Route::resource</font><font color="#2B3D51"> 方法我们可以很快的创建这个控制器:</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2B3D51">通过命令行创建控制器,执行下面的命令:</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><font color="#EA4B35">php </font><span style="color: rgb(233, 228, 229);">artisan </span><font color="#F3C500">controller:make</font><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">PhotoController</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">现在我们注册一个 <font color="#9C56B8">资源路由(<span style="font-size: 14px;">resourceful route</span>)</font> 到这个控制器:</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">resource</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'photo'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'PhotoController'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">这个单一的路由申明,创建了处理<font color="#9C56B8">路由到</font>照片资源上的各种 <span style="background-color: rgb(255, 254, 254); color: rgb(69, 69, 69); font-family: source-sans-pro, helvetica, arial, sans-serif; font-size: 15.199999809265137px; line-height: 21px;">RESTful 动作. 同样的, 生成的</span><span style="background-color: rgb(255, 254, 254); font-family: source-sans-pro, helvetica, arial, sans-serif; font-size: 15.199999809265137px; line-height: 21px;"><font color="#9C56B8">控制器</font></span><span style="background-color: rgb(255, 254, 254); color: rgb(69, 69, 69); font-family: source-sans-pro, helvetica, arial, sans-serif; font-size: 15.199999809265137px; line-height: 21px;">也已经有了各种的预设方法来处理这些动作,并伴随这注释信息表明</span><span style="background-color: rgb(255, 254, 254); color: rgb(69, 69, 69); font-family: source-sans-pro, helvetica, arial, sans-serif; font-size: 15px; line-height: 21px;">他们处理</span><span style="background-color: rgb(255, 254, 254); color: rgb(69, 69, 69); font-family: source-sans-pro, helvetica, arial, sans-serif; font-size: 15.199999809265137px; line-height: 21px;">那个 URI 和动作</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b><font color="#2C97DF">被资源处理器处理的动作</font></b></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<table style="padding: 0px; font-size: 13px; border: 1px solid rgb(221, 221, 221); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; color: rgb(69, 69, 69); font-family: source-sans-pro, helvetica, arial, sans-serif;">
<thead>
<tr>
<th style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-style: none; font-size: 16px;">Verb</th>
<th style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-style: none; font-size: 16px;">Path</th>
<th style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-style: none; font-size: 16px;">Action</th>
<th style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-style: none; font-size: 16px;">Route Name</th>
</tr>
</thead>
<tbody>
<tr>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">GET</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">/resource</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">index</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">resource.index</td>
</tr>
<tr>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">GET</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">/resource/create</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">create</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">resource.create</td>
</tr>
<tr>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">POST</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">/resource</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">store</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">resource.store</td>
</tr>
<tr>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">GET</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">/resource/{resource}</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">show</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">resource.show</td>
</tr>
<tr>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">GET</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">/resource/{resource}/edit</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">edit</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">resource.edit</td>
</tr>
<tr>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">PUT/PATCH</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">/resource/{resource}</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">update</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">resource.update</td>
</tr>
<tr>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">DELETE</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">/resource/{resource}</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">destroy</td>
<td style="padding: 12px 10px 8px; line-height: 13.5px; vertical-align: middle; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221);">resource.destroy  </td>
</tr>
</tbody>
</table>
</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="font-size: 14px;">有时候,你可能进需要去处理一个资源动作的子集:</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">php artisan controller</span><span style="color: rgb(255, 255, 255);">:</span><span style="color: rgb(233, 228, 229);">make </span><span style="color: rgb(239, 124, 97);">PhotoController</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">--</span><span style="color: rgb(233, 228, 229);">only</span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);">index</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);">show

php artisan controller</span><span style="color: rgb(255, 255, 255);">:</span><span style="color: rgb(233, 228, 229);">make </span><span style="color: rgb(239, 124, 97);">PhotoController</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">--</span><span style="color: rgb(75, 177, 177);">except</span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);">index</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">你还可以在路由上指定处理动作的子集:</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">resource</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'photo'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'PhotoController'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);">
                array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'only'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'index'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'show'</span><span style="color: rgb(255, 255, 255);">)));</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">resource</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'photo'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'PhotoController'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);">
                array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'except'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'create'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'store'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'update'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'destroy'</span><span style="color: rgb(255, 255, 255);">)));</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">默认情况下,所有的<font color="#9C56B8" style="font-size: 14px;">资源控制器动作</font>都有一个<font color="#9C56B8" style="font-size: 14px;">路由</font>名字, 然后,你可以通过传递一个 <font color="#EA4B35" face="Courier">name</font> 键值的数组来重写这个名字.</blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">Route</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">resource</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'photo'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'PhotoController'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);">
                array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'</span><font color="#F59C00">names</font><span style="color: rgb(188, 212, 42);">'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'create'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'photo.build'</span><span style="color: rgb(255, 255, 255);">)));</span></code>
</pre></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><br/></blockquote>
<b style="color: rgb(0, 190, 156); font-size: 18px;">处理不存在的方法(</b><b style="color: rgb(0, 190, 156); font-size: 18px;">Handling Missing Methods</b><b style="color: rgb(0, 190, 156); font-size: 18px;">)</b></div>
<div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="font-size: 14px;">在一个控制器中如果找不到一个匹配的方法来处理到来的请求,一个能够捕获所有请求的方法将要被调用. 这个方法应该被命名为 </span><font color="#EA4B35" face="Courier">missingMethod </font><font face="Courier" color="#2B3D51">,并且接收请求参数.</font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><font color="#2B3D51"><br/></font></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b><font color="#2C97DF">定义一个捕获所有的方法</font></b></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(75, 177, 177);">public</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(233, 228, 229);"> missingMethod</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$parameters </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">()) // $paramters 参数为本该到其他方法的请求的参数</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
/><font color="#95A5A5">    //例如,如果请求的 URL 为 user<span style="line-height: normal; font-family: Monaco;">/miss/misss2/miss3</span>
    //那么,paramters 的值为
</font><span style="line-height: normal; font-family: Monaco;"><font color="#95A5A5">    //array (size=3)<br/>    //   0 =&gt; string 'miss' (length=4)<br/>    //   1 =&gt; string 'misss2' (length=6)<br/>    //   2 =&gt; string 'miss3' (length=5)<br/></font><font color="#E9E4E5"
/></span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">}</span></code>
</pre></blockquote>
<span style="font-size: 24px; color: rgb(234, 75, 53);"><b>错误与日志(Errors &amp; Logging)</b></span><span style="font-size: 14px;"><br/></span></div>
<b style="color: rgb(0, 190, 156); font-size: 18px;">配置(</b> <span style="font-size: 18px; color: rgb(0, 190, 156);"><b>Configuration </b></span><b style="color: rgb(0, 190, 156); font-size: 18px;">)</b><br/>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div><font face="Hiragino Sans GB">对于你 </font><font face="Courier" color="#9C56B8">Application </font><font face="Hiragino Sans GB">日志相关的处理</font>在<font face="Hiragino Sans GB"><font color="#9C56B8">开始文件(start files)</font><font color="#2B3D51">中的</font> </font><font color="#EA4B35" face="Courier">app/start/global.php</font> 中被注册. 默认情况下, <font color="#9C56B8">日志处理器(logger) </font>被配置使用单一日志文件.然后,你可以根据你的需求自定义这些行为. 因为  Laravel 采用了很流行的 <span style="font-size: 14px;"> </span><a href="https://github.com/Seldaek/monolog">Monolog </a><span style="font-size: 14px;">日志库,你可以利用</span> Monolog 库提供的各种处理器.</div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB">例如,如果你希望使用每天的日志文件,替代单一的巨大日志文件,你可以在你的 start file 中做出下面的更改:</font></div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(233, 228, 229);">$logFile </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'laravel.log'</span><span style="color: rgb(255, 255, 255);">;</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(239, 124, 97);">Log</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">useDailyFiles</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">storage_path</span><span style="color: rgb(255, 255, 255);">().</span><span style="color: rgb(188, 212, 42);">'/logs/'</span><span style="color: rgb(255, 255, 255);">.</span><span style="color: rgb(233, 228, 229);">$logFile</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><b><font color="#2C97DF"><font face="Hiragino Sans GB">错误日志(</font><span style="font-size: 14px;">Error Detail</span>)</font></b></div>
<div><font face="Hiragino Sans GB">默认情况下,对于你的 Application 的错误细节是被记录的. 这意味这,当一个错误出现的时候,你将会看到一个包含了详细的<font color="#9C56B8">栈跟踪和错误信息</font>的错误页面.</font></div>
<div><font face="Hiragino Sans GB">你可以通过设置 <font color="#EA4B35">app/config/app.php </font>文件里的 <font color="#EA4B35">debug </font>选项为 <font color="#EA4B35">false </font>来关闭错误信息.</font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><font color="#F59C00"><b>注意:</b></font> 强力推荐你在生产环境关闭详细错误信息的展示.</font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
</blockquote>
<b style="color: rgb(0, 190, 156); font-size: 18px;">处理错误(</b> <span style="font-size: 18px; color: rgb(0, 190, 156);"><b>Handling Errors )</b></span><br/>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div><font face="Hiragino Sans GB">默认情况下,在 </font><span style="font-size: 14px;">app/start/global.php 文件中包含了一个对所有错误 </span>exceptions 的处理器.</div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">App</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">error</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">Exception</span><span style="color: rgb(233, 228, 229);"> $exception</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(239, 124, 97);">Log</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">error</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$exception</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></div>
<div><font face="Hiragino Sans GB">这时最基本错误处理器. 如果你需要的话,你可以指定更多的处理器. <font color="#2C97DF">处理器按照他们处理的错误</font></font><span style="font-size: 14px;"><font color="#2C97DF">Exception的类型来调用</font>. 例如,你可以创建一个处理器, 只处理 </span></div>
<span style="font-size: 14px;"><font color="#EA4B35">RuntimeException</font> 实例:</span></blockquote>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">App</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">error</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">RuntimeException</span><span style="color: rgb(233, 228, 229);"> $exception</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">// Handle the exception...</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB">如果一个错误处理器返回一个<font color="#9C56B8">回应(Response),</font><font color="#2B3D51"> 这个回应将会被放松到客户端浏览器,没有其他的错误处理器会被继续调用.</font></font></div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">App</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">error</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(239, 124, 97);">InvalidUserException</span><span style="color: rgb(233, 228, 229);"> $exception</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(239, 124, 97);">Log</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">error</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$exception</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);"

    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'Sorry! Something is wrong with this account!'</span><span style="color: rgb(255, 255, 255);">;</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div>监听 <span style="font-size: 14px;">PHP fatal errors, 你可能需要 </span><font face="Courier" color="#EA4B35">App::fatal</font><span style="font-size: 14px;"> 方法</span></div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important;"><span style="color: rgb(239, 124, 97);">App</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">fatal</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$exception</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB">如果你有一些 </font><span style="font-size: 14px;"><font color="#9C56B8">exception</font>处理器, 那么你应该从大而全到小而具体的方向去定义他.  例如: 一个处理<font color="#9C56B8">所有</font> </span><font face="Courier" color="#EA4B35">Exception </font><span style="font-size: 14px;">类型</span><span style="font-size: 14px;"> </span><span style="font-size: 14px;"><font color="#9C56B8">exceptions </font>的处理器应该在一个用户自定义的 </span><font color="#EA4B35" face="Courier">Illuminate\Encryption\DecryptException</font> 类型之前定义</div>
</blockquote>
<div><br/></div>
<b style="color: rgb(0, 190, 156); font-size: 18px;">在哪里放置错误处理器(</b> <span style="font-size: 18px; color: rgb(0, 190, 156);"><b>Where To Place Error Handlers</b></span><b style="color: rgb(0, 190, 156); font-size: 18px;">)</b><br/>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div><font face="Hiragino Sans GB">框架没有定义默认的</font>的位置来<font face="Hiragino Sans GB">注册<font color="#9C56B8">错误处理器(</font></font><font color="#9C56B8"><span style="font-size: 14px;">error handler</span>)</font>. 在这方面 Laravel 给了你自由的空间.  不过一个不错的选择是在 <font color="#EA4B35" face="Courier">start/global.php</font> 文件中定义.</div>
<div>一般来说,这是一个约定的位置用来存放 "启动代码".  如果这个文件变的太大而臃肿的话,你可以创建自己的 app/errors.php 文件. 然后从你的 start/global.php 文件中  <font color="#EA4B35" face="Courier">require </font>这个文件. 第三个选项是创建一个 <a href="http://laravel.com/docs/ioc#service-providers">Server Provider</a> 来注册这些处理器. 再声明一下,这里没有标准的答案, 你可以选择你舒服的方式.</div>
<div><font face="Hiragino Sans GB"><br/></font></div>
</blockquote>
<span style="font-size: 18px; color: rgb(0, 190, 156);"><b>HTTP Exceptions</b></span></div>
<div>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div><span style="font-size: 14px;"><br/></span></div>
<div><span style="font-size: 14px;">一些 exceptions 描述了服务器的 HTTP 错误代码. 例如, 像 "page not found" 错误(404), "unauthorized error"(401) 或者 一个服务器内部错误(500).为了能够返回这些回应(Response),使用下面的代码:</span></div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important; background-position: initial initial !important; background-repeat: initial initial !important;"><span style="color: rgb(239, 124, 97);">App</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">abort</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">404</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></div>
<div>你还可以提供一个回应消息的选项</div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important; background-position: initial initial !important; background-repeat: initial initial !important;"><span style="color: rgb(239, 124, 97);">App</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">abort</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">403</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'Unauthorized action.'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></div>
<div><font face="Hiragino Sans GB">这个方法可以在 <font color="#9C56B8">请求生命周期(</font></font><font color="#9C56B8"><span style="font-size: 14px;">request's lifecycle</span>)</font> 的任何地方使用.</div>
<div><font face="Hiragino Sans GB"><br/></font></div>
</blockquote>
<span style="font-size: 18px; color: rgb(0, 190, 156);"><b>Handling 404 Errors</b></span><br/>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div><font face="Hiragino Sans GB">你可以在 application 中注册一个错误处理器,来处理 "404 Not Found" 错误. 这可以使你很容易的返回一个 404 错误页面:</font></div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important; background-position: initial initial !important; background-repeat: initial initial !important;"><span style="color: rgb(239, 124, 97);">App</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">missing</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$exception</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(75, 177, 177);">return</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Response</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">view</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'errors.missing'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(),</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">404</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
</blockquote>
<span style="font-size: 18px; color: rgb(0, 190, 156);"><b>Logging</b></span><br/>
<blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;">
<div><font face="Hiragino Sans GB"><br/></font></div>
<div>Larvel 日志功能提供了一个在 <a href="http://github.com/seldaek/monolog">Monolog</a><span style="font-size: 14px;"> 库之上的简单层. 默认情况下, <font color="#EA4B35">Laravel </font>被配置为你的 <font color="#9C56B8">Application</font> 创建了单一的日志文件, 这个文件存储在 </span></div>
<font color="#EA4B35" face="Courier">app/storage/logs/laravel.log</font> ,你可以向这个文件中写入信息.
<div><br/></div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important; background-position: initial initial !important; background-repeat: initial initial !important;"><span style="color: rgb(239, 124, 97);">Log</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">info</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'This is some useful information.'</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(239, 124, 97);">Log</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">warning</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'Something could be going wrong.'</span><span style="color: rgb(255, 255, 255);">);</span><span style="color: rgb(233, 228, 229);"

/><span style="color: rgb(239, 124, 97);">Log</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">error</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'Something is really going wrong.'</span><span style="color: rgb(255, 255, 255);">);</span></code>
</pre></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB">日志处理器(</font><span style="font-size: 14px;">logger</span>) 定义了一下在 <a href="http://tools.ietf.org/html/rfc5424">RFC5424 </a>中定义的日志级别:  <span style="font-size: 14px;"><font color="#00BE9C" style="font-weight: bold;">debug, info, notice, warning, error, critical, </font><font color="#2B3D51">and </font><font color="#00BE9C" style="font-weight: bold;">alert.</font></span></div>
<div>作为上下文信息的数组也可能被传递进日志方法中.</div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important; background-position: initial initial !important; background-repeat: initial initial !important;"><span style="color: rgb(239, 124, 97);">Log</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">info</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'Log message'</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> array</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(188, 212, 42);">'context'</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(255, 255, 255);">=&gt;</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(188, 212, 42);">'Other helpful information'</span><span style="color: rgb(255, 255, 255);">));</span></code>
</pre></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><span style="font-size: 14px;">Monolog 还提供了多种额外的处理器(</span><span style="font-size: 14px;">handlers</span><span style="font-size: 14px;">)可以在 logging 中使用. 如果有需要, 你可以访问被 Laravel 在底层使用的 Monolog 实例.</span></div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important; background-position: initial initial !important; background-repeat: initial initial !important;"><span style="color: rgb(233, 228, 229);">$monolog </span><span style="color: rgb(255, 255, 255);">=</span><span style="color: rgb(233, 228, 229);" /><span style="color: rgb(239, 124, 97);">Log</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">getMonolog</span><span style="color: rgb(255, 255, 255);">();</span></code>
</pre></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB">你还可以注册一个事件来捕获所有的传递给 log 的消息.</font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><b><font color="#2C97DF">注册一个日志事件监听者(</font></b><b style="color: rgb(44, 151, 223); font-size: 14px;">Registering A Log Listener</b><b><font color="#2C97DF">)</font></b></div>
<div>
<pre style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 8px; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; padding: 2px; color: rgb(233, 228, 229); overflow: hidden; word-wrap: break-word; border: 1px solid rgb(136, 136, 136); line-height: 1.9em; -webkit-background-clip: padding-box; background-origin: padding-box; background-clip: padding-box; background-color: rgb(51, 51, 51);">
<code style="font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 11px; color: rgb(244, 100, 95); padding: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent !important; background-position: initial initial !important; background-repeat: initial initial !important;"><span style="color: rgb(239, 124, 97);">Log</span><span style="color: rgb(255, 255, 255);">::</span><span style="color: rgb(233, 228, 229);">listen</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(75, 177, 177);">function</span><span style="color: rgb(255, 255, 255);">(</span><span style="color: rgb(233, 228, 229);">$level</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $message</span><span style="color: rgb(255, 255, 255);">,</span><span style="color: rgb(233, 228, 229);"> $context</span><span style="color: rgb(255, 255, 255);">)</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">{</span><span style="color: rgb(233, 228, 229);"
    /><span style="color: rgb(136, 136, 136);">//</span><span style="color: rgb(233, 228, 229);"
/><span style="color: rgb(255, 255, 255);">});</span></code>
</pre></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
</blockquote>
<div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
<div><font face="Hiragino Sans GB"><br/></font></div>
</div>
</div>
</div>
</div>
</body></html>